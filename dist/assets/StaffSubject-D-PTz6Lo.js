import{d as m,u as O,e as U,c,a as e,b as a,r as d,j as i,g as M,F as Y,y as B,h as v,p as F,s as H,o as u,t as r,m as K}from"./index-QZaKag1-.js";import{_ as L}from"./delete-ClllWuc2.js";const R={class:"user-activity user-profile"},T={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J={class:"right"},Q={class:"searchbar"},W={class:"icon"},X={class:"icons"},Z={class:"table-body mt-16"},ee={class:"table-outer"},te={class:"table"},se={class:"option-btns"},oe=["onClick"],le={key:0,class:"table-no-data"},ne={class:"title",showHeader:"true"},ae={class:"form mb-16"},de={class:"form-item mb-16"},ie={key:0,class:"err-msg"},ce={class:"modal-footer"},ue={class:"btns"},re={class:"modal-footer"},be={class:"btns"},_e={__name:"StaffSubject",setup(ve){const b=O();F(),H();const o=m(()=>b.state.OrganizationStaff),g=m(()=>b.state.OrganizationSettings),s=U({submit:!1,staffAccountId:null,name:null,subjectId:null,searchKey:null,editMode:!1});function w(){if(f.value){s.submit=!0;return}s.submit=!1,b.dispatch("OrganizationStaff/addStaffSubject",{subjectId:s.subjectId,staffDetailId:o.value.id,name:s.name})}function C(){b.dispatch("OrganizationStaff/deleteStaffSubject",{id:s.subjectId})}function k(){o.value.addSubjectModal=!0,s.editMode=!1,s.name=null,s.subjectId=null}function y(n){s.subjectId=n,o.value.confirmSubjectModal=!0}const D=n=>{s.subjectId=n.id},I=n=>{s.searchKey=n};function V(n){return n?K(n).format("MMM Do YYYY hh:mm A"):"-"}const f=m(()=>{if(!s.subjectId)return"Please Select Subject"});return(n,t)=>{var S;const A=d("icon-user"),x=d("icon-search"),N=d("icon-plus"),$=d("icon-delete"),p=d("icon-cross"),z=d("SingleSelect"),_=d("Modal");return u(),c("section",R,[e("div",T,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[a(A)]),t[7]||(t[7]=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Subject : List"),e("h5",{class:"main-title"},"Subject")],-1))])]),e("div",J,[e("div",Q,[t[8]||(t[8]=e("input",{type:"text",placeholder:"Search here"},null,-1)),e("div",W,[a(x)])]),e("div",X,[e("div",{class:"icon tooltip-wrapper",onClick:i(k,["prevent"])},[a(N),t[9]||(t[9]=e("div",{class:"tooltip"},"Add Subject",-1))])])])]),e("div",Z,[e("div",ee,[e("table",te,[t[11]||(t[11]=e("thead",null,[e("th",null,"#"),e("th",null,"Subject"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1)),e("tbody",null,[(u(!0),c(Y,null,B(o.value.staffSubject,(l,h)=>{var j;return u(),c("tr",{key:h},[e("td",null,r(h+1),1),e("td",null,r((j=l.subject)==null?void 0:j.name),1),e("td",null,r(V(l.createdAt)),1),e("td",null,[e("div",se,[e("div",{class:"icon tooltip-wrapper",onClick:i(fe=>y(l.id),["prevent"])},[a($),t[10]||(t[10]=e("div",{class:"tooltip"},"Delete",-1))],8,oe)])])])}),128))])])]),((S=o.value.staffSubject)==null?void 0:S.length)<=0?(u(),c("div",le,t[12]||(t[12]=[e("div",null,"No records Found!",-1)]))):M("",!0)])]),a(_,{show:o.value.addSubjectModal,"onUpdate:show":t[3]||(t[3]=l=>o.value.addSubjectModal=l),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:v(()=>[e("div",ne,r(s.editMode?"Update Subject":"Add Subject"),1),e("div",{class:"close-btn",onClick:t[0]||(t[0]=i(l=>o.value.addSubjectModal=!1,["prevent"]))},[a(p)])]),default:v(()=>[e("form",ae,[e("div",de,[t[13]||(t[13]=e("div",{class:"title"},"Subject Name",-1)),a(z,{options:g.value.subject,onSelected:D,modelValue:s.name,"onUpdate:modelValue":t[1]||(t[1]=l=>s.name=l),next:!1,placeholder:"Select",onSearch:I},null,8,["options","modelValue"]),s.submit&&f.value?(u(),c("div",ie,r(f.value),1)):M("",!0)])]),e("div",ce,[e("div",ue,[e("div",{class:"btn red-btn",onClick:t[2]||(t[2]=i(l=>o.value.addSubjectModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),a(_,{show:o.value.confirmSubjectModal,"onUpdate:show":t[6]||(t[6]=l=>o.value.confirmSubjectModal=l),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[t[14]||(t[14]=e("div",{class:"title",showHeader:"true"},"Delete",-1)),e("div",{class:"close-btn",onClick:t[4]||(t[4]=i(l=>o.value.confirmSubjectModal=!1,["prevent"]))},[a(p)])]),default:v(()=>[t[15]||(t[15]=e("div",{class:"delete-icon"},[e("img",{src:L,alt:""})],-1)),t[16]||(t[16]=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1)),e("div",re,[e("div",be,[e("div",{class:"btn red-btn",onClick:t[5]||(t[5]=i(l=>o.value.confirmSubjectModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{_e as default};
