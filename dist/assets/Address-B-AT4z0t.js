import{d as c,u as j,e as G,n as z,c as l,a as s,b as r,r as p,j as _,g as u,F as J,y as O,h as b,s as Q,o as a,t as i,w as v,v as m,E as W}from"./index-QZaKag1-.js";const X={class:"faq-page"},Y={class:"container"},Z={class:"table-card card"},tt={class:"table-header"},st={class:"left"},et={class:"title-row"},ot={class:"icon"},dt={class:"right"},nt={class:"icons"},lt={class:"table-body p-16"},at={class:"table-outer"},it={class:"table"},rt={key:0,class:"badge success-badge"},ut={key:1,class:"badge warning-badge"},ct={key:2,class:"badge danger-badge"},pt={class:"option-btns"},vt=["onClick"],mt=["onClick"],ht=["onClick"],_t={key:0,class:"table-no-data"},bt={class:"title",showHeader:"true"},ft={class:"form mb-16"},yt={class:"form-item mb-16"},gt={key:0,class:"err-msg"},Ct={class:"form-item mb-16"},At={key:0,class:"err-msg"},kt={class:"form-item mb-16"},wt={key:0,class:"err-msg"},Mt={class:"form-item mb-16"},Vt={key:0,class:"err-msg"},Pt={class:"form-item mb-16"},Et={key:0,class:"err-msg"},It={class:"form-item mb-16"},St={key:0,class:"err-msg"},Ut={class:"form-item mb-16"},xt={class:"modal-footer"},Nt={class:"btns"},$t={class:"status-row"},Dt={for:"approve",class:"data"},Tt={class:"data-inner approve-card"},Bt={class:"modal-footer"},Ft={class:"btns"},qt={__name:"Address",setup(Kt){const h=j();Q();const n=c(()=>h.state.UserAddress),t=G({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,accountId:localStorage.getItem("orgAccountId"),address:null,name:null,phone:null,altPhone:null,city:null,state:null,pincode:null});z(()=>{S()});function S(){h.dispatch("UserAddress/getAddress",{accountId:t.accountId})}function U(){n.value.addModal=!0,t.editMode=!1,t.id=null,t.address=null,t.name=null,t.phone=null,t.altPhone=null,t.city=null,t.state=null,t.pincode=null}function x(d){n.value.addModal=!0,t.editMode=!0,t.id=d.id,t.address=d.address,t.name=d.name,t.phone=d.phone,t.altPhone=d.altPhone,t.city=d.city,t.state=d.state,t.pincode=d.pincode}function N(d,e){t.changeStatus=e,t.id=d,n.value.statusModal=!0}function $(){if(y.value||B.value||g.value||C.value||w.value||A.value||k.value){t.submit=!0;return}t.submit=!1,t.editMode?h.dispatch("UserAddress/updateAddress",{id:t.id,accountId:t.accountId,address:t.address,name:t.name,phone:t.phone,altPhone:t.altPhone,city:t.city,state:t.state,pincode:t.pincode}):h.dispatch("UserAddress/createAddress",{accountId:t.accountId,address:t.address,name:t.name,phone:t.phone,altPhone:t.altPhone,city:t.city,state:t.state,pincode:t.pincode})}function D(){console.log(t.id),t.id&&h.dispatch("UserAddress/updateActiveAddress",{id:t.id,accountId:t.accountId,status:t.changeStatus})}function T(d){h.dispatch("UserAddress/deleteActiveAddress",{id:d,accountId:t.accountId})}function f(d){let e=String.fromCharCode(d.keyCode);if(/^[0-9]+$/.test(e)||d.keyCode===8||d.keyCode===9||d.keyCode===37||d.keyCode===39||d.keyCode>=96&&d.keyCode<=105)return!0;d.preventDefault()}const y=c(()=>{if(!t.name)return"Please Enter title"}),g=c(()=>{if(!t.state)return"Please Enter state"}),C=c(()=>{if(!t.city)return"Please Enter city"}),B=c(()=>{if(!t.address)return"Please Enter address"}),A=c(()=>{if(!t.altPhone)return"Please Enter alt. phone"}),k=c(()=>{if(!t.phone)return"Please Enter phone number"}),w=c(()=>{if(!t.pincode)return"Please Enter pincode"});return(d,e)=>{var P;const F=p("icon-help"),K=p("icon-plus"),L=p("icon-edit"),q=p("icon-setting"),H=p("icon-delete"),M=p("icon-cross"),V=p("Modal"),R=p("icon-success");return a(),l("section",X,[s("div",Y,[s("div",Z,[s("div",tt,[s("div",st,[s("div",et,[s("div",ot,[r(F)]),e[14]||(e[14]=s("div",{class:"titles"},[s("div",{class:"sub-title"},"Address : List"),s("h5",{class:"main-title"},"Address List")],-1))])]),s("div",dt,[s("div",nt,[s("div",{class:"icon tooltip-wrapper",onClick:_(U,["prevent"])},[r(K),e[15]||(e[15]=s("div",{class:"tooltip"},"Add Address",-1))])])])]),s("div",lt,[s("div",at,[s("table",it,[e[19]||(e[19]=s("thead",null,[s("th",null,"#"),s("th",null,"Address"),s("th",null,"Phone"),s("th",null,"Status"),s("th",{class:"text-center"},"Action")],-1)),s("tbody",null,[(a(!0),l(J,null,O(n.value.data,(o,E)=>(a(),l("tr",{key:E},[s("td",null,i(E+1),1),s("td",null,i(o.address),1),s("td",null,i(o.phone),1),s("td",null,[o.status==="ACTIVE"?(a(),l("div",rt,i(o.status),1)):u("",!0),o.status==="PENDING"?(a(),l("div",ut,i(o.status),1)):u("",!0),o.status==="DEACTIVE"?(a(),l("div",ct,i(o.status),1)):u("",!0)]),s("td",null,[s("div",pt,[s("div",{class:"icon tooltip-wrapper",onClick:I=>x(o)},[r(L),e[16]||(e[16]=s("div",{class:"tooltip"},"Edit",-1))],8,vt),s("div",{class:"icon tooltip-wrapper",onClick:_(I=>N(o.id,o.status),["prevent"])},[r(q),e[17]||(e[17]=s("div",{class:"tooltip"},"Status Change",-1))],8,mt),s("div",{class:"icon tooltip-wrapper",onClick:I=>T(o.id)},[r(H),e[18]||(e[18]=s("div",{class:"tooltip"},"Delete",-1))],8,ht)])])]))),128))])])]),((P=n.value.data)==null?void 0:P.length)<=0?(a(),l("div",_t,e[20]||(e[20]=[s("div",null,"No records Found!",-1)]))):u("",!0)])])]),r(V,{show:n.value.addModal,"onUpdate:show":e[9]||(e[9]=o=>n.value.addModal=o),class:"faq-modal",headerClasses:"header-bg"},{header:b(()=>[s("div",bt,i(t.editMode?"Update Address":"Add Address"),1),s("div",{class:"close-btn",onClick:e[0]||(e[0]=_(o=>n.value.addModal=!1,["prevent"]))},[r(M)])]),default:b(()=>[s("form",ft,[s("div",yt,[e[21]||(e[21]=s("div",{class:"title"},"Name",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.name=o),placeholder:"Enter Name"},null,512),[[m,t.name]]),t.submit&&y.value?(a(),l("div",gt,i(y.value),1)):u("",!0)]),s("div",Ct,[e[22]||(e[22]=s("div",{class:"title"},"Phone",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.phone=o),onKeydown:f,maxlength:"10"},null,544),[[m,t.phone]]),t.submit&&k.value?(a(),l("div",At,i(k.value),1)):u("",!0)]),s("div",kt,[e[23]||(e[23]=s("div",{class:"title"},"Alt phone",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.altPhone=o),onKeydown:f,maxlength:"10"},null,544),[[m,t.altPhone]]),t.submit&&A.value?(a(),l("div",wt,i(A.value),1)):u("",!0)]),s("div",Mt,[e[24]||(e[24]=s("div",{class:"title"},"State",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>t.state=o)},null,512),[[m,t.state]]),t.submit&&g.value?(a(),l("div",Vt,i(g.value),1)):u("",!0)]),s("div",Pt,[e[25]||(e[25]=s("div",{class:"title"},"City",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>t.city=o)},null,512),[[m,t.city]]),t.submit&&C.value?(a(),l("div",Et,i(C.value),1)):u("",!0)]),s("div",It,[e[26]||(e[26]=s("div",{class:"title"},"Pincode",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>t.pincode=o),onKeydown:f,maxlength:"6"},null,544),[[m,t.pincode]]),t.submit&&w.value?(a(),l("div",St,i(w.value),1)):u("",!0)]),s("div",Ut,[e[27]||(e[27]=s("div",{class:"title"},"Address",-1)),v(s("textarea",{type:"text",rows:"5","onUpdate:modelValue":e[7]||(e[7]=o=>t.address=o),placeholder:"Enter Address"},null,512),[[m,t.address]])])]),s("div",xt,[s("div",Nt,[s("div",{class:"btn red-btn",onClick:e[8]||(e[8]=_(o=>n.value.addModal=!1,["prevent"]))}," Cancel "),s("div",{class:"btn white-btn",onClick:$},"Submit")])])]),_:1},8,["show"]),r(V,{show:n.value.statusModal,"onUpdate:show":e[13]||(e[13]=o=>n.value.statusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:b(()=>[e[28]||(e[28]=s("div",{class:"title",showHeader:"true"},"Change Status",-1)),s("div",{class:"close-btn",onClick:e[10]||(e[10]=_(o=>n.value.statusModal=!1,["prevent"]))},[r(M)])]),default:b(()=>[s("div",$t,[s("label",Dt,[v(s("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=o=>t.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[W,t.changeStatus]]),s("div",Tt,[r(R),e[29]||(e[29]=s("div",{class:"title"},"ACTIVE",-1))])])]),s("div",Bt,[s("div",Ft,[s("div",{class:"btn red-btn",onClick:e[12]||(e[12]=_(o=>n.value.statusModal=!1,["prevent"]))}," Cancel "),s("div",{class:"btn white-btn",onClick:D},"Submit")])])]),_:1},8,["show"])])}}};export{qt as default};
