import{d as y,u as O,e as U,n as q,p as B,c as a,a as t,b as l,r as d,j as r,g as b,F as L,y as F,h as p,s as H,o as u,t as c,w as k,v as M}from"./index-QZaKag1-.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},K={class:"table-header"},G={class:"left"},J={class:"title-row"},Q={class:"icon"},W={class:"right"},X={class:"searchbar"},Y={class:"icon"},Z={class:"icons"},tt={class:"table-body mt-16"},et={class:"table-outer"},ot={class:"table"},st={class:"option-btns"},it=["onClick"],nt=["onClick"],lt={key:0,class:"table-no-data"},dt={class:"title",showHeader:"true"},at={class:"form mb-16"},rt={class:"form-item mb-16 col-10"},ut={key:0,class:"err-msg"},ct={class:"form-item mb-16 col-10"},vt={key:0,class:"err-msg"},pt={class:"modal-footer"},mt={class:"btns"},ft={class:"modal-footer"},_t={class:"btns"},ht={__name:"DivisionList",setup(yt){const v=O(),m=B();H();const n=y(()=>v.state.OrganizationSettings),o=U({organizationSettingId:null,organizationId:null,editMode:!1,divisionId:null,name:null,priority:null});q(()=>{m.query.id&&(o.organizationSettingId=m.query.settingId,o.organizationId=m.query.id)});function w(){n.value.addModal=!0,o.editMode=!1,o.name=null,o.priority=null}function S(i){n.value.addModal=!0,o.editMode=!0,o.divisionId=i.id,o.name=i.name,o.priority=i.priority}function D(i){o.divisionId=i,n.value.confirmModal=!0}function I(){if(f.value||_.value){o.submit=!0;return}o.submit=!1,o.editMode?v.dispatch("OrganizationSettings/updateDivision",{id:o.divisionId,name:o.name,priority:o.priority,settingId:o.organizationSettingId}):v.dispatch("OrganizationSettings/addDivision",{name:o.name,priority:o.priority,settingId:o.organizationSettingId})}function x(){v.dispatch("OrganizationSettings/deleteDivision",{id:o.divisionId,status:"DELETED"})}const f=y(()=>{if(!o.name)return"Please Enter Name"}),_=y(()=>{if(!o.priority)return"Please Enter Priority"});function z(i){let e=String.fromCharCode(i.keyCode);if(/^[0-9]+$/.test(e)||i.keyCode===8||i.keyCode===9||i.keyCode===37||i.keyCode===39||i.keyCode>=96&&i.keyCode<=105)return!0;i.preventDefault()}return(i,e)=>{const E=d("icon-user"),V=d("icon-search"),N=d("icon-plus"),$=d("icon-edit"),P=d("icon-delete"),g=d("icon-cross"),h=d("Modal");return u(),a("section",T,[t("div",j,[t("div",K,[t("div",G,[t("div",J,[t("div",Q,[l(E)]),e[9]||(e[9]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Section : List"),t("h5",{class:"main-title"},"Our Section")],-1))])]),t("div",W,[t("div",X,[e[10]||(e[10]=t("input",{type:"text",placeholder:"Search here"},null,-1)),t("div",Y,[l(V)])]),t("div",Z,[t("div",{class:"icon tooltip-wrapper",onClick:r(w,["prevent"])},[l(N),e[11]||(e[11]=t("div",{class:"tooltip"},"Add Section",-1))])])])]),t("div",tt,[t("div",et,[t("table",ot,[e[14]||(e[14]=t("thead",null,[t("th",null,"#"),t("th",null,"Section"),t("th",null,"Priority"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(u(!0),a(L,null,F(n.value.classDiv,(s,C)=>(u(),a("tr",{key:C},[t("td",null,c(C+1),1),t("td",null,c(s.name),1),t("td",null,c(s.priority),1),t("td",null,[t("div",st,[t("div",{class:"icon tooltip-wrapper",onClick:A=>S(s)},[l($),e[12]||(e[12]=t("div",{class:"tooltip"},"Edit",-1))],8,it),t("div",{class:"icon tooltip-wrapper",onClick:r(A=>D(s.id),["prevent"])},[l(P),e[13]||(e[13]=t("div",{class:"tooltip"},"Delete",-1))],8,nt)])])]))),128))])])]),n.value.classDiv.length<=0?(u(),a("div",lt,e[15]||(e[15]=[t("div",null,"No records Found!",-1)]))):b("",!0)])]),l(h,{show:n.value.addModal,"onUpdate:show":e[5]||(e[5]=s=>n.value.addModal=s),class:"faq-modal",headerClasses:"header-bg"},{header:p(()=>[t("div",dt,c(o.editMode?"Update Section":"Add Section"),1),t("div",{class:"close-btn",onClick:e[0]||(e[0]=r(s=>n.value.addModal=!1,["prevent"]))},[l(g)])]),default:p(()=>[t("form",at,[t("div",rt,[e[16]||(e[16]=t("div",{class:"title"},"Name",-1)),k(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>o.name=s),placeholder:"Enter Name",maxlength:"50"},null,512),[[M,o.name]]),o.submit&&f.value?(u(),a("div",ut,c(f.value),1)):b("",!0)]),t("div",ct,[e[17]||(e[17]=t("div",{class:"title"},"Priority",-1)),k(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>o.priority=s),placeholder:"Enter Priority",onKeydown:e[3]||(e[3]=s=>z(s)),maxlength:"10"},null,544),[[M,o.priority]]),o.submit&&_.value?(u(),a("div",vt,c(_.value),1)):b("",!0)])]),t("div",pt,[t("div",mt,[t("div",{class:"btn red-btn",onClick:e[4]||(e[4]=r(s=>n.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Submit")])])]),_:1},8,["show"]),l(h,{show:n.value.confirmModal,"onUpdate:show":e[8]||(e[8]=s=>n.value.confirmModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:p(()=>[e[18]||(e[18]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:e[6]||(e[6]=r(s=>n.value.confirmModal=!1,["prevent"]))},[l(g)])]),default:p(()=>[e[19]||(e[19]=t("div",{class:"delete-icon"},[t("img",{src:R,alt:""})],-1)),e[20]||(e[20]=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1)),t("div",ft,[t("div",_t,[t("div",{class:"btn red-btn",onClick:e[7]||(e[7]=r(s=>n.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:x},"Delete")])])]),_:1},8,["show"])])}}};export{ht as default};
