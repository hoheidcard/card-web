import{d as _,u as V,e as $,n as A,p as O,c as r,a as t,b as i,r as l,j as a,g as S,F as q,y as B,h as v,s as L,o as c,t as m,w as U,v as F}from"./index-QZaKag1-.js";import{_ as P}from"./delete-ClllWuc2.js";const H={class:"user-activity user-profile"},R={class:"table-card"},T={class:"table-header"},G={class:"left"},J={class:"title-row"},K={class:"icon"},Q={class:"right"},W={class:"searchbar"},X={class:"icon"},Y={class:"icons"},Z={class:"table-body mt-16"},tt={class:"table-outer"},et={class:"table"},st={class:"option-btns"},ot=["onClick"],nt=["onClick"],it={key:0,class:"table-no-data"},lt={class:"title",showHeader:"true"},at={class:"form mb-16"},dt={class:"form-item mb-16 col-10"},rt={key:0,class:"err-msg"},ct={class:"modal-footer"},ut={class:"btns"},vt={class:"modal-footer"},mt={class:"btns"},ft={__name:"SubjectList",setup(pt){const u=V(),p=O();L();const o=_(()=>u.state.OrganizationSettings),s=$({organizationSettingId:null,organizationId:null,editMode:!1,subjectId:null,name:null,priority:null});A(()=>{p.query.id&&(s.organizationSettingId=p.query.settingId,s.organizationId=p.query.id)});function j(){o.value.addModal=!0,s.editMode=!1,s.name=null}function w(d){o.value.addModal=!0,s.editMode=!0,s.subjectId=d.id,s.name=d.name}function C(d){s.subjectId=d,o.value.confirmModal=!0}function y(){if(b.value){s.submit=!0;return}s.submit=!1,s.editMode?u.dispatch("OrganizationSettings/updateSubject",{id:s.subjectId,name:s.name,settingId:s.organizationSettingId}):u.dispatch("OrganizationSettings/addSubject",{name:s.name,settingId:s.organizationSettingId})}function k(){u.dispatch("OrganizationSettings/deleteSubject",{id:s.subjectId,status:"DELETED"})}const b=_(()=>{if(!s.name)return"Please Enter Name"});return _(()=>{if(!s.priority)return"Please Enter Priority"}),(d,e)=>{var h;const I=l("icon-user"),z=l("icon-search"),D=l("icon-plus"),E=l("icon-edit"),x=l("icon-delete"),f=l("icon-cross"),g=l("Modal");return c(),r("section",H,[t("div",R,[t("div",T,[t("div",G,[t("div",J,[t("div",K,[i(I)]),e[7]||(e[7]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Subject : List"),t("h5",{class:"main-title"},"Our Subject")],-1))])]),t("div",Q,[t("div",W,[e[8]||(e[8]=t("input",{type:"text",placeholder:"Search here"},null,-1)),t("div",X,[i(z)])]),t("div",Y,[t("div",{class:"icon tooltip-wrapper",onClick:a(j,["prevent"])},[i(D),e[9]||(e[9]=t("div",{class:"tooltip"},"Add Subject",-1))])])])]),t("div",Z,[t("div",tt,[t("table",et,[e[12]||(e[12]=t("thead",null,[t("th",null,"#"),t("th",null,"Subject"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(c(!0),r(q,null,B(o.value.subject,(n,M)=>(c(),r("tr",{key:M},[t("td",null,m(M+1),1),t("td",null,m(n.name),1),t("td",null,[t("div",st,[t("div",{class:"icon tooltip-wrapper",onClick:N=>w(n)},[i(E),e[10]||(e[10]=t("div",{class:"tooltip"},"Edit",-1))],8,ot),t("div",{class:"icon tooltip-wrapper",onClick:a(N=>C(n.id),["prevent"])},[i(x),e[11]||(e[11]=t("div",{class:"tooltip"},"Delete",-1))],8,nt)])])]))),128))])])]),((h=o.value.subject)==null?void 0:h.length)<=0?(c(),r("div",it,e[13]||(e[13]=[t("div",null,"No records Found!",-1)]))):S("",!0)])]),i(g,{show:o.value.addModal,"onUpdate:show":e[3]||(e[3]=n=>o.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",lt,m(s.editMode?"Update Subject":"Add Subject"),1),t("div",{class:"close-btn",onClick:e[0]||(e[0]=a(n=>o.value.addModal=!1,["prevent"]))},[i(f)])]),default:v(()=>[t("form",at,[t("div",dt,[e[14]||(e[14]=t("div",{class:"title"},"Name",-1)),U(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>s.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[F,s.name]]),s.submit&&b.value?(c(),r("div",rt,m(b.value),1)):S("",!0)])]),t("div",ct,[t("div",ut,[t("div",{class:"btn red-btn",onClick:e[2]||(e[2]=a(n=>o.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:y},"Submit")])])]),_:1},8,["show"]),i(g,{show:o.value.confirmModal,"onUpdate:show":e[6]||(e[6]=n=>o.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[e[15]||(e[15]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:e[4]||(e[4]=a(n=>o.value.confirmModal=!1,["prevent"]))},[i(f)])]),default:v(()=>[e[16]||(e[16]=t("div",{class:"delete-icon"},[t("img",{src:P,alt:""})],-1)),e[17]||(e[17]=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1)),t("div",vt,[t("div",mt,[t("div",{class:"btn red-btn",onClick:e[5]||(e[5]=a(n=>o.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:k},"Delete")])])]),_:1},8,["show"])])}}};export{ft as default};
