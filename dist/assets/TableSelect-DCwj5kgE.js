import{k as p,d as k,n as x,l as L,c as r,w as S,a as m,v as _,x as C,Q as g,R as B,F as V,y as N,t as q,B as A,o as d}from"./index-QZaKag1-.js";const O={class:"table-select"},b=["placeholder"],E={class:"dropdown-options"},F=["onClick"],D={__name:"TableSelect",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Search..."},options:{type:Array,required:!0},outside:{type:Boolean,default:!0}},emits:["update:modelValue","selected"],setup(i){const a=i;let s=p(""),l=p(null);const o=A(),f=k(()=>a.options.filter(e=>e.name.toLowerCase().includes(s.value.toLowerCase()))),y=e=>{s.value=e.name,o.emit("update:modelValue",e.name),o.emit("selected",e),c()},v=()=>{o.emit("update:modelValue",s.value),o.emit("selected",{id:null,name:s.value}),c()},h=e=>{o.emit("update:modelValue",s.value)},c=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);e[t].parentNode.classList.remove("show-drop"),t<e.length-1&&(e[t+1].focus(),e[t+1].parentNode.classList.add("show-drop"))},w=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);t>=0&&e[t].parentNode.classList.add("show-drop")};x(()=>{a.outside&&window.addEventListener("click",u)}),L(()=>{a.outside&&window.removeEventListener("click",u)});const u=e=>{const t=e.target,n=l.value.parentNode;n.contains(t)||n.classList.remove("show-drop")};return(e,t)=>(d(),r("div",O,[S(m("input",{type:"text",ref_key:"inputField",ref:l,"onUpdate:modelValue":t[0]||(t[0]=n=>B(s)?s.value=n:s=n),placeholder:i.placeholder,onKeydown:g(v,["enter"]),onKeyup:t[1]||(t[1]=n=>h()),onClick:w},null,40,b),[[_,C(s)]]),m("ul",E,[(d(!0),r(V,null,N(f.value,n=>(d(),r("li",{key:n.id,onClick:I=>y(n)},q(n.name),9,F))),128))])]))}};export{D as default};
