import{d as f,u as $,e as A,n as O,p as q,c as r,a as t,b as i,r as a,j as l,g as D,F as B,y as L,h as m,s as U,o as c,t as p,w as F,v as P}from"./index-QZaKag1-.js";import{_ as H}from"./delete-ClllWuc2.js";const R={class:"user-activity user-profile"},T={class:"table-card"},j={class:"table-header"},G={class:"left"},J={class:"title-row"},K={class:"icon"},Q={class:"right"},W={class:"searchbar"},X={class:"icon"},Y={class:"icons"},Z={class:"table-body mt-16"},tt={class:"table-outer"},et={class:"table"},st={class:"option-btns"},ot=["onClick"],nt=["onClick"],it={key:0,class:"table-no-data"},at={class:"title",showHeader:"true"},lt={class:"form mb-16"},dt={class:"form-item mb-16 col-10"},rt={key:0,class:"err-msg"},ct={class:"modal-footer"},ut={class:"btns"},mt={class:"modal-footer"},pt={class:"btns"},bt={__name:"DepartmentList",setup(vt){const u=$(),v=q();U();const o=f(()=>u.state.OrganizationSettings),s=A({organizationSettingId:null,organizationId:null,editMode:!1,departmentId:null,name:null,priority:null});O(()=>{v.query.id&&(s.organizationSettingId=v.query.settingId,s.organizationId=v.query.id)});function w(){o.value.addModal=!0,s.editMode=!1,s.name=null}function C(d){o.value.addModal=!0,s.editMode=!0,s.departmentId=d.id,s.name=d.name}function y(d){s.departmentId=d,o.value.confirmModal=!0}function k(){if(_.value){s.submit=!0;return}s.submit=!1,s.editMode?u.dispatch("OrganizationSettings/updateDepartment",{id:s.departmentId,name:s.name,settingId:s.organizationSettingId}):u.dispatch("OrganizationSettings/addDepartment",{name:s.name,settingId:s.organizationSettingId})}function I(){u.dispatch("OrganizationSettings/deleteDepartment",{id:s.departmentId,status:"DELETED"})}const _=f(()=>{if(!s.name)return"Please Enter Name"});return f(()=>{if(!s.priority)return"Please Enter Priority"}),(d,e)=>{var h;const S=a("icon-user"),z=a("icon-search"),E=a("icon-plus"),x=a("icon-edit"),N=a("icon-delete"),b=a("icon-cross"),g=a("Modal");return c(),r("section",R,[t("div",T,[t("div",j,[t("div",G,[t("div",J,[t("div",K,[i(S)]),e[7]||(e[7]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Department : List"),t("h5",{class:"main-title"},"Our Department")],-1))])]),t("div",Q,[t("div",W,[e[8]||(e[8]=t("input",{type:"text",placeholder:"Search here"},null,-1)),t("div",X,[i(z)])]),t("div",Y,[t("div",{class:"icon tooltip-wrapper",onClick:l(w,["prevent"])},[i(E),e[9]||(e[9]=t("div",{class:"tooltip"},"Add Department",-1))])])])]),t("div",Z,[t("div",tt,[t("table",et,[e[12]||(e[12]=t("thead",null,[t("th",null,"#"),t("th",null,"Department"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(c(!0),r(B,null,L(o.value.department,(n,M)=>(c(),r("tr",{key:M},[t("td",null,p(M+1),1),t("td",null,p(n.name),1),t("td",null,[t("div",st,[t("div",{class:"icon tooltip-wrapper",onClick:V=>C(n)},[i(x),e[10]||(e[10]=t("div",{class:"tooltip"},"Edit",-1))],8,ot),t("div",{class:"icon tooltip-wrapper",onClick:l(V=>y(n.id),["prevent"])},[i(N),e[11]||(e[11]=t("div",{class:"tooltip"},"Delete",-1))],8,nt)])])]))),128))])])]),((h=o.value.department)==null?void 0:h.length)<=0?(c(),r("div",it,e[13]||(e[13]=[t("div",null,"No records Found!",-1)]))):D("",!0)])]),i(g,{show:o.value.addModal,"onUpdate:show":e[3]||(e[3]=n=>o.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:m(()=>[t("div",at,p(s.editMode?"Update Department":"Add Department"),1),t("div",{class:"close-btn",onClick:e[0]||(e[0]=l(n=>o.value.addModal=!1,["prevent"]))},[i(b)])]),default:m(()=>[t("form",lt,[t("div",dt,[e[14]||(e[14]=t("div",{class:"title"},"Name",-1)),F(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>s.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[P,s.name]]),s.submit&&_.value?(c(),r("div",rt,p(_.value),1)):D("",!0)])]),t("div",ct,[t("div",ut,[t("div",{class:"btn red-btn",onClick:e[2]||(e[2]=l(n=>o.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:k},"Submit")])])]),_:1},8,["show"]),i(g,{show:o.value.confirmModal,"onUpdate:show":e[6]||(e[6]=n=>o.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:m(()=>[e[15]||(e[15]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:e[4]||(e[4]=l(n=>o.value.confirmModal=!1,["prevent"]))},[i(b)])]),default:m(()=>[e[16]||(e[16]=t("div",{class:"delete-icon"},[t("img",{src:H,alt:""})],-1)),e[17]||(e[17]=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1)),t("div",mt,[t("div",pt,[t("div",{class:"btn red-btn",onClick:e[5]||(e[5]=l(n=>o.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Delete")])])]),_:1},8,["show"])])}}};export{bt as default};
