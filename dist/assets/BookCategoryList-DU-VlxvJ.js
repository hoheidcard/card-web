import{d as _,u as N,e as V,n as $,p as A,c as r,a as t,b as i,r as a,j as l,g as y,F as O,y as q,h as v,s as L,o as c,t as m,w as U,v as F}from"./index-QZaKag1-.js";import{_ as P}from"./delete-ClllWuc2.js";const H={class:"user-activity user-profile"},R={class:"table-card"},T={class:"table-header"},j={class:"left"},G={class:"title-row"},J={class:"icon"},K={class:"right"},Q={class:"searchbar"},W={class:"icon"},X={class:"icons"},Y={class:"table-body mt-16"},Z={class:"table-outer"},tt={class:"table"},ot={class:"option-btns"},et=["onClick"],st=["onClick"],nt={key:0,class:"table-no-data"},it={class:"title",showHeader:"true"},at={class:"form mb-16"},lt={class:"form-item mb-16 col-10"},dt={key:0,class:"err-msg"},rt={class:"modal-footer"},ct={class:"btns"},ut={class:"modal-footer"},vt={class:"btns"},_t={__name:"BookCategoryList",setup(mt){const u=N(),p=A();L();const s=_(()=>u.state.OrganizationSettings),e=V({organizationSettingId:null,organizationId:null,editMode:!1,bookCategoryId:null,name:null,priority:null});$(()=>{p.query.id&&(e.organizationSettingId=p.query.settingId,e.organizationId=p.query.id)});function k(){s.value.addModal=!0,e.editMode=!1,e.name=null}function h(d){s.value.addModal=!0,e.editMode=!0,e.bookCategoryId=d.id,e.name=d.name}function M(d){e.bookCategoryId=d,s.value.confirmModal=!0}function w(){if(g.value){e.submit=!0;return}e.submit=!1,e.editMode?u.dispatch("OrganizationSettings/updateBookCategory",{id:e.bookCategoryId,name:e.name,settingId:e.organizationSettingId}):u.dispatch("OrganizationSettings/addBookCategory",{name:e.name,settingId:e.organizationSettingId})}function B(){u.dispatch("OrganizationSettings/deleteBookCategory",{id:e.bookCategoryId,status:"DELETED"})}const g=_(()=>{if(!e.name)return"Please Enter Name"});return _(()=>{if(!e.priority)return"Please Enter Priority"}),(d,o)=>{const I=a("icon-user"),S=a("icon-search"),z=a("icon-plus"),D=a("icon-edit"),E=a("icon-delete"),b=a("icon-cross"),f=a("Modal");return c(),r("section",H,[t("div",R,[t("div",T,[t("div",j,[t("div",G,[t("div",J,[i(I)]),o[7]||(o[7]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Books Category : List"),t("h5",{class:"main-title"},"Our Books Category")],-1))])]),t("div",K,[t("div",Q,[o[8]||(o[8]=t("input",{type:"text",placeholder:"Search here"},null,-1)),t("div",W,[i(S)])]),t("div",X,[t("div",{class:"icon tooltip-wrapper",onClick:l(k,["prevent"])},[i(z),o[9]||(o[9]=t("div",{class:"tooltip"},"Add Books Category",-1))])])])]),t("div",Y,[t("div",Z,[t("table",tt,[o[12]||(o[12]=t("thead",null,[t("th",null,"#"),t("th",null,"Category"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(c(!0),r(O,null,q(s.value.bookCategory,(n,C)=>(c(),r("tr",{key:C},[t("td",null,m(C+1),1),t("td",null,m(n.name),1),t("td",null,[t("div",ot,[t("div",{class:"icon tooltip-wrapper",onClick:x=>h(n)},[i(D),o[10]||(o[10]=t("div",{class:"tooltip"},"Edit",-1))],8,et),t("div",{class:"icon tooltip-wrapper",onClick:l(x=>M(n.id),["prevent"])},[i(E),o[11]||(o[11]=t("div",{class:"tooltip"},"Delete",-1))],8,st)])])]))),128))])])]),s.value.bookCategory.length<=0?(c(),r("div",nt,o[13]||(o[13]=[t("div",null,"No records Found!",-1)]))):y("",!0)])]),i(f,{show:s.value.addModal,"onUpdate:show":o[3]||(o[3]=n=>s.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",it,m(e.editMode?"Update Book Category":"Add Book Category"),1),t("div",{class:"close-btn",onClick:o[0]||(o[0]=l(n=>s.value.addModal=!1,["prevent"]))},[i(b)])]),default:v(()=>[t("form",at,[t("div",lt,[o[14]||(o[14]=t("div",{class:"title"},"Name",-1)),U(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=n=>e.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[F,e.name]]),e.submit&&g.value?(c(),r("div",dt,m(g.value),1)):y("",!0)])]),t("div",rt,[t("div",ct,[t("div",{class:"btn red-btn",onClick:o[2]||(o[2]=l(n=>s.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),i(f,{show:s.value.confirmModal,"onUpdate:show":o[6]||(o[6]=n=>s.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[o[15]||(o[15]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:o[4]||(o[4]=l(n=>s.value.confirmModal=!1,["prevent"]))},[i(b)])]),default:v(()=>[o[16]||(o[16]=t("div",{class:"delete-icon"},[t("img",{src:P,alt:""})],-1)),o[17]||(o[17]=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1)),t("div",ut,[t("div",vt,[t("div",{class:"btn red-btn",onClick:o[5]||(o[5]=l(n=>s.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:B},"Delete")])])]),_:1},8,["show"])])}}};export{_t as default};
