import{d as v,u as at,e as lt,n as it,p as dt,C as rt,c as l,a as t,b as i,r,w as u,v as m,q as ut,j as g,g as p,F as ct,y as pt,h as w,s as mt,o as d,t as a,E as M}from"./index-QZaKag1-.js";const vt={class:"faq-page"},gt={class:"container"},yt={class:"table-card card"},bt={class:"table-header"},ht={class:"left"},_t={class:"title-row"},ft={class:"icon"},wt={class:"right"},Ct={class:"searchbar"},Nt={class:"icon"},kt={class:"searchbar"},Et={class:"select-dropdown"},Vt={class:"icons"},It={class:"table-body p-16"},zt={class:"table-outer"},At={class:"table"},Pt={key:0,class:"badge success-badge"},St={key:1,class:"badge warning-badge"},Bt={key:2,class:"badge danger-badge"},Mt={class:"option-btns"},xt=["onClick"],Ut=["onClick"],Dt=["onClick"],Ot=["onClick"],Tt=["onClick"],$t=["onClick"],qt={key:0,class:"table-no-data"},Lt={key:1,class:"table-footer"},Gt={class:"title",showHeader:"true"},Ht={class:"form mb-16"},Rt={class:"row"},Ft={class:"form-item mb-16 col-5"},Kt={class:"form-item mb-16 col-5"},Wt={key:0,class:"err-msg"},jt={class:"form-item mb-16 col-5"},Jt={key:0,class:"err-msg"},Qt={class:"row"},Xt={class:"form-item mb-16 col-5"},Yt={key:0,class:"err-msg"},Zt={class:"form-item mb-16 col-5"},te={key:0,class:"err-msg"},ee={class:"row"},se={class:"form-item mb-16 col-5"},ne={key:0,class:"err-msg"},oe={class:"form-item mb-16 col-5"},ae={key:0,class:"err-msg"},le={class:"row"},ie={class:"form-item mb-16 col-5"},de={key:0,class:"err-msg"},re={class:"form-item mb-16 col-5"},ue={key:0,class:"err-msg"},ce={class:"form-item mb-16"},pe={key:0,class:"err-msg"},me={class:"modal-footer"},ve={class:"btns"},ge={class:"status-row"},ye={for:"approve",class:"data"},be={class:"data-inner approve-card"},he={for:"pending",class:"data"},_e={class:"data-inner pending-card"},fe={for:"block",class:"data"},we={class:"data-inner block-card"},Ce={class:"modal-footer"},Ne={class:"btns"},Ve={__name:"MyBranchList",setup(ke){const b=at(),h=dt(),x=mt(),c=v(()=>b.state.OrganizationBranch),s=lt({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SCHOOL",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,organizationId:null,organizationAccountId:null,organizationSettingId:null,changeStatus:null,name:null,address:null,pincode:null,city:null,state:null,contactNo:null,whatsApp:null,email:null,ownerName:null,type:"BRANCH",numberOfBranch:1});it(()=>{h.query.id&&(s.organizationAccountId=h.query.accountId,s.organizationSettingId=h.query.settingId,s.organizationId=h.query.id,_())}),rt(()=>s.keyword,()=>{clearTimeout(s.typingTimer),s.typingTimer=setTimeout(()=>{s.limit=10,s.offset=0,s.currentPage=1,_()},s.typingDelay)});function _(){b.dispatch("OrganizationBranch/getOrganizationBranch",{id:s.organizationId,limit:s.limit,offset:s.offset,keyword:s.keyword,status:s.status,roles:s.roles})}function q(){c.value.organizationModal=!0,s.editMode=!1,s.name=null,s.address=null,s.pincode=null,s.state=null,s.city=null,s.contactNo=null,s.whatsApp=null,s.email=null,s.ownerName=null,s.type="BRANCH"}function L(o,e){s.changeStatus=e,s.id=o,c.value.statusModal=!0}function G(){if(C.value||k.value||E.value||V.value||I.value||z.value||N.value||P.value||A.value){s.submit=!0;return}s.submit=!1,b.dispatch("OrganizationBranch/addOrganizationBranch",{name:s.name,address:s.address,pincode:s.pincode,city:s.city,stateName:s.state,contactNo:s.contactNo,whatsApp:s.whatsApp,email:s.email,ownerName:s.ownerName,type:s.type,numberOfBranch:s.numberOfBranch,accountId:s.organizationAccountId,settingId:s.organizationSettingId,organizationId:s.organizationId,roles:s.roles})}function H(){b.dispatch("OrganizationBranch/updateOrganizationBranchStatus",{id:s.id,status:s.changeStatus})}const R=o=>{s.currentPage=o,s.offset=s.limit*(o-1),_()};function F(){_()}function K(o,e){x.push({path:e,query:{id:o}})}function f(o,e,B){x.push({path:B,query:{id:o,settingId:e}})}const C=v(()=>{if(!s.name)return"Please Enter Name"}),N=v(()=>{if(!s.ownerName)return"Please Enter Owner Name"}),k=v(()=>{let o=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(s.email){if(!o.test(s.email))return"Please Enter Valid Email!"}else return"Please Enter Email!"}),E=v(()=>{let o=/^[6-9][0-9]{9}$/;if(s.contactNo){if(!o.test(s.contactNo))return"Please Enter Valid Number!"}else return"Please Enter Contact Number!"}),V=v(()=>{let o=/^[6-9][0-9]{9}$/;if(s.whatsApp){if(!o.test(s.whatsApp))return"Please Enter Valid Number!"}else return"Please Enter Contact Number!"}),I=v(()=>{if(!s.state)return"Please Enter State"}),z=v(()=>{if(!s.city)return"Please Enter City"}),A=v(()=>{if(!s.address)return"Please Enter Address"}),P=v(()=>{if(!s.pincode)return"Please Select Pincode"});function S(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e)||o.keyCode===8||o.keyCode===9||o.keyCode===37||o.keyCode===39||o.keyCode>=96&&o.keyCode<=105)return!0;o.preventDefault()}return(o,e)=>{var O,T;const B=r("icon-help"),W=r("icon-search"),j=r("icon-plus"),J=r("icon-edit"),Q=r("icon-status"),X=r("icon-library-list"),Y=r("icon-user-list"),Z=r("icon-student-list"),tt=r("icon-setting"),et=r("Pagination"),U=r("icon-cross"),D=r("Modal"),st=r("icon-success"),nt=r("icon-warning"),ot=r("icon-block");return d(),l("section",vt,[t("div",gt,[t("div",yt,[t("div",bt,[t("div",ht,[t("div",_t,[t("div",ft,[i(B)]),e[25]||(e[25]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Branch : List"),t("h5",{class:"main-title"},"My Branch")],-1))])]),t("div",wt,[t("div",Ct,[u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>s.keyword=n),placeholder:"Search here"},null,512),[[m,s.keyword]]),t("div",Nt,[i(W)])]),t("div",kt,[t("div",Et,[u(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=n=>s.status=n),onChange:F},e[26]||(e[26]=[t("option",{value:"ACTIVE"},"ACTIVE",-1),t("option",{value:"PENDING"},"PENDING",-1),t("option",{value:"DEACTIVE"},"DEACTIVE",-1)]),544),[[ut,s.status]])])]),t("div",Vt,[t("div",{class:"icon tooltip-wrapper",onClick:g(q,["prevent"])},[i(j),e[27]||(e[27]=t("div",{class:"tooltip"},"Add Branch",-1))])])])]),t("div",It,[t("div",zt,[t("table",At,[e[34]||(e[34]=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(d(!0),l(ct,null,pt(c.value.organizationBranchData,(n,$)=>(d(),l("tr",{key:$},[t("td",null,a($+1),1),t("td",null,a(n.name),1),t("td",null,a(n.email),1),t("td",null,a(n.contactNo),1),t("td",null,a(n.ownerName),1),t("td",null,a(n.address),1),t("td",null,a(n.type),1),t("td",null,[n.status==="ACTIVE"?(d(),l("div",Pt,a(n.status),1)):p("",!0),n.status==="PENDING"?(d(),l("div",St,a(n.status),1)):p("",!0),n.status==="DEACTIVE"?(d(),l("div",Bt,a(n.status),1)):p("",!0)]),t("td",null,[t("div",Mt,[t("div",{class:"icon tooltip-wrapper",onClick:y=>K(n.id,"/crm/edit-organization")},[i(J),e[28]||(e[28]=t("div",{class:"tooltip"},"Edit",-1))],8,xt),t("div",{class:"icon tooltip-wrapper",onClick:g(y=>L(n.id,n.status),["prevent"])},[i(Q),e[29]||(e[29]=t("div",{class:"tooltip"},"Change Status",-1))],8,Ut),t("div",{class:"icon tooltip-wrapper",onClick:g(y=>f(n.id,n.settingId,"/crm/organization/library"),["prevent"])},[i(X),e[30]||(e[30]=t("div",{class:"tooltip"},"Library",-1))],8,Dt),t("div",{class:"icon tooltip-wrapper",onClick:g(y=>f(n.id,n.settingId,"/crm/organization/my-staff"),["prevent"])},[i(Y),e[31]||(e[31]=t("div",{class:"tooltip"},"My Staff",-1))],8,Ot),t("div",{class:"icon tooltip-wrapper",onClick:g(y=>f(n.id,n.settingId,"/crm/organization/my-student"),["prevent"])},[i(Z),e[32]||(e[32]=t("div",{class:"tooltip"},"My Student",-1))],8,Tt),t("div",{class:"icon tooltip-wrapper",onClick:g(y=>f(n.id,n.settingId,"/crm/organization/setting/class-list"),["prevent"])},[i(tt),e[33]||(e[33]=t("div",{class:"tooltip"},"Settings",-1))],8,$t)])])]))),128))])])]),((O=c.value.organizationBranchData)==null?void 0:O.length)<=0?(d(),l("div",qt,e[35]||(e[35]=[t("div",null,"No records Found!",-1)]))):p("",!0),((T=c.value.organizationBranchData)==null?void 0:T.length)>0?(d(),l("div",Lt,[i(et,{currentPage:s.currentPage,totalItem:c.value.totalOrganizationBranch,itemsPerPage:s.limit,"onUpdate:currentPage":e[2]||(e[2]=n=>R(n))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),i(D,{show:c.value.organizationModal,"onUpdate:show":e[18]||(e[18]=n=>c.value.organizationModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:w(()=>[t("div",Gt,a(s.editMode?"Update Branch":"Add Branch"),1),t("div",{class:"close-btn",onClick:e[3]||(e[3]=g(n=>c.value.organizationModal=!1,["prevent"]))},[i(U)])]),default:w(()=>[t("form",Ht,[t("div",Rt,[t("div",Ft,[e[36]||(e[36]=t("div",{class:"title"},"Login Id",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=n=>s.contactNo=n),placeholder:"loginId",disabled:""},null,512),[[m,s.contactNo]])]),e[39]||(e[39]=t("div",{class:"form-item mb-16 col-5"},[t("div",{class:"title"},"Password"),t("input",{type:"text",value:"AA12345",disabled:""})],-1)),t("div",Kt,[e[37]||(e[37]=t("div",{class:"title"},"Name",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=n=>s.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[m,s.name]]),s.submit&&C.value?(d(),l("div",Wt,a(C.value),1)):p("",!0)]),t("div",jt,[e[38]||(e[38]=t("div",{class:"title"},"Email",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=n=>s.email=n),placeholder:"Enter E-mail ",maxlength:"30"},null,512),[[m,s.email]]),s.submit&&k.value?(d(),l("div",Jt,a(k.value),1)):p("",!0)])]),t("div",Qt,[t("div",Xt,[e[40]||(e[40]=t("div",{class:"title"},"Contact No",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=n=>s.contactNo=n),placeholder:"Enter Contact Number",onKeydown:e[8]||(e[8]=n=>S(n)),maxlength:"10"},null,544),[[m,s.contactNo]]),s.submit&&E.value?(d(),l("div",Yt,a(E.value),1)):p("",!0)]),t("div",Zt,[e[41]||(e[41]=t("div",{class:"title"},"Owner Name",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=n=>s.ownerName=n),placeholder:"Enter Woner Name",maxlength:"20"},null,512),[[m,s.ownerName]]),s.submit&&N.value?(d(),l("div",te,a(N.value),1)):p("",!0)])]),t("div",ee,[t("div",se,[e[42]||(e[42]=t("div",{class:"title"},"WhatsApp",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=n=>s.whatsApp=n),placeholder:"Enter WhatsApp Number",onKeydown:e[11]||(e[11]=n=>S(n)),maxlength:"10"},null,544),[[m,s.whatsApp]]),s.submit&&V.value?(d(),l("div",ne,a(V.value),1)):p("",!0)]),t("div",oe,[e[43]||(e[43]=t("div",{class:"title"},"State",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=n=>s.state=n),placeholder:"Enter State Name",maxlength:"30"},null,512),[[m,s.state]]),s.submit&&I.value?(d(),l("div",ae,a(I.value),1)):p("",!0)])]),t("div",le,[t("div",ie,[e[44]||(e[44]=t("div",{class:"title"},"City",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=n=>s.city=n),placeholder:"Enter City Name",maxlength:"30"},null,512),[[m,s.city]]),s.submit&&z.value?(d(),l("div",de,a(z.value),1)):p("",!0)]),t("div",re,[e[45]||(e[45]=t("div",{class:"title"},"Pincode",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=n=>s.pincode=n),placeholder:"Enter Pincode",onKeydown:e[15]||(e[15]=n=>S(n)),maxlength:"6"},null,544),[[m,s.pincode]]),s.submit&&P.value?(d(),l("div",ue,a(P.value),1)):p("",!0)])]),t("div",ce,[e[46]||(e[46]=t("div",{class:"title"},"Address",-1)),u(t("textarea",{name:"",id:"","onUpdate:modelValue":e[16]||(e[16]=n=>s.address=n),rows:"4",placeholder:"Address"},null,512),[[m,s.address]]),s.submit&&A.value?(d(),l("div",pe,a(A.value),1)):p("",!0)])]),t("div",me,[t("div",ve,[t("div",{class:"btn red-btn",onClick:e[17]||(e[17]=g(n=>c.value.organizationModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:G},"Submit")])])]),_:1},8,["show"]),i(D,{show:c.value.statusModal,"onUpdate:show":e[24]||(e[24]=n=>c.value.statusModal=n),class:"status-modal",headerClasses:"header-bg"},{header:w(()=>[e[47]||(e[47]=t("div",{class:"title",showHeader:"true"},"Change Status",-1)),t("div",{class:"close-btn",onClick:e[19]||(e[19]=g(n=>c.value.statusModal=!1,["prevent"]))},[i(U)])]),default:w(()=>[t("div",ge,[t("label",ye,[u(t("input",{type:"radio","onUpdate:modelValue":e[20]||(e[20]=n=>s.changeStatus=n),value:"ACTIVE",id:"approve",name:"status"},null,512),[[M,s.changeStatus]]),t("div",be,[i(st),e[48]||(e[48]=t("div",{class:"title"},"ACTIVE",-1))])]),t("label",he,[u(t("input",{type:"radio","onUpdate:modelValue":e[21]||(e[21]=n=>s.changeStatus=n),value:"PENDING",id:"pending",name:"status"},null,512),[[M,s.changeStatus]]),t("div",_e,[i(nt),e[49]||(e[49]=t("div",{class:"title"},"PENDING",-1))])]),t("label",fe,[u(t("input",{type:"radio","onUpdate:modelValue":e[22]||(e[22]=n=>s.changeStatus=n),value:"DEACTIVE",id:"block",name:"status"},null,512),[[M,s.changeStatus]]),t("div",we,[i(ot),e[50]||(e[50]=t("div",{class:"title"},"DEACTIVE",-1))])])]),t("div",Ce,[t("div",Ne,[t("div",{class:"btn red-btn",onClick:e[23]||(e[23]=g(n=>c.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:H},"Submit")])])]),_:1},8,["show"])])}}};export{Ve as default};
