import{d as C,u as D,e as x,c as r,a as s,b as V,r as w,w as u,z as v,f as A,F as f,y as g,p as E,s as I,o as d,t as b}from"./index-QZaKag1-.js";const U={class:"user-activity user-profile"},j={class:"table-card"},N={class:"table-header"},B={class:"left"},O={class:"title-row"},R={class:"icon"},z={class:"right"},F={class:"searchbar"},L={class:"toggle-input"},$={class:"toggle-control"},M={class:"table-body mt-16"},T={class:"permission-page user-profile"},q={class:"left-title"},G={class:"title"},H={class:"right-permissions"},J={class:"input-row"},K={class:"toggle-input"},Q={class:"toggle-control"},W=["onUpdate:modelValue","onChange"],X={class:"toggle-input"},Y={class:"toggle-control"},Z=["onUpdate:modelValue","onChange"],es={__name:"OrgPermission",setup(ss){const p=D();E(),I();const o=C(()=>p.state.Organization),c=x({staffId:null,staffAccountId:null,allStatus:!1,all:!1});function m(){p.dispatch("Staff/updatePermission",{menu:o.value.orgPermissionData})}function P(l,t){const a=o.value.orgPermissionData.findIndex(e=>e.id===l);a>=0&&o.value.orgPermissionData[a].userPermission.forEach(n=>{n.status=t})}function y(l){const t=o.value.orgPermissionData.findIndex(a=>a.id===l);if(t>=0){const e=o.value.orgPermissionData[t].userPermission.every(n=>n.status===!0);o.value.orgPermissionData[t].allStatus=e}}function S(){c.all?o.value.orgPermissionData.forEach(l=>{l.allStatus=!0,l.userPermission.forEach(t=>{t.status=!0})}):o.value.orgPermissionData.forEach(l=>{l.allStatus=!1,l.userPermission.forEach(t=>{t.status=!1})})}return(l,t)=>{const a=w("icon-permission");return d(),r("section",U,[s("div",j,[s("div",N,[s("div",B,[s("div",O,[s("div",R,[V(a)]),t[1]||(t[1]=s("div",{class:"titles"},[s("div",{class:"sub-title"},"Permission : List"),s("h5",{class:"main-title"},"Permission")],-1))])]),s("div",z,[t[3]||(t[3]=s("div",{class:"searchbar"},[s("span",null,"All")],-1)),s("div",F,[s("div",L,[s("label",$,[u(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>c.all=e),onChange:S},null,544),[[v,c.all]]),t[2]||(t[2]=s("span",{class:"control"},null,-1))])])]),s("div",{class:"btns justify-end"},[s("div",{class:"btn white-btn",onClick:m}," Save Changes ")])])]),s("div",M,[s("section",T,[t[7]||(t[7]=A('<div class="title text-primary top-header"><div class="title">Permission</div><div class="title">All</div><div class="title">Create</div><div class="title">Read</div><div class="title">Update</div><div class="title">Delete</div></div>',1)),(d(!0),r(f,null,g(o.value.orgPermissionData,(e,n)=>(d(),r("div",{class:"per-table",key:n},[s("div",q,[s("div",G,b(e.title),1)]),s("div",H,[s("div",J,[s("div",K,[t[5]||(t[5]=s("p",null,"All",-1)),s("label",Q,[u(s("input",{type:"checkbox","onUpdate:modelValue":i=>e.allStatus=i,onChange:i=>P(e.id,e.allStatus)},null,40,W),[[v,e.allStatus]]),t[4]||(t[4]=s("span",{class:"control"},null,-1))])])]),(d(!0),r(f,null,g(e.userPermission,(i,k)=>{var _;return d(),r("div",{class:"input-row",key:k},[s("div",X,[s("p",null,b((_=i.permission)==null?void 0:_.name),1),s("label",Y,[u(s("input",{type:"checkbox","onUpdate:modelValue":h=>i.status=h,onChange:h=>y(e.id)},null,40,Z),[[v,i.status]]),t[6]||(t[6]=s("span",{class:"control"},null,-1))])])])}),128))])]))),128))]),s("div",{class:"btns justify-end mt-10"},[s("div",{class:"btn white-btn",onClick:m}," Save Changes ")])])])])}}};export{es as default};
