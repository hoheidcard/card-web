import{d as k,u as C,e as I,n as b,p as q,c as d,g as N,a as t,F as v,y as h,t as i,i as g,w as S,v as T,j as f,r as x,o as l,b as B}from"./index-QZaKag1-.js";const M={key:0,class:"product-detail"},P={class:"container"},D={class:"card"},E={class:"product-imgs"},L={class:"img-display"},R={class:"img-showcase"},U=["src"],w={class:"img-select"},F=["onClick"],H=["src"],Q={class:"product-content"},j={class:"product-title"},A={href:"#",class:"product-link"},O={class:"product-price"},$={class:"last-price"},z={class:"new-price"},G={class:"product-detail"},J=["innerHTML"],K={class:"form-item mb-16"},W={class:"title mb-10-i"},X={class:"purchase-info"},Y={class:"form-item mb-16"},et={__name:"ProductDetail",setup(Z){const u=C(),n=q(),s=k(()=>u.state.IdCardStock),m=I({qty:1});b(()=>{n.query.id&&u.dispatch("IdCardStock/getIdCardStock",{id:n.query.id})});const y=a=>{const e=document.getElementById("image");e&&(e.src=a)},V=()=>{const a=[];console.log(s.value.detail.productVariant),s.value.detail.productVariant.forEach(e=>{if(e.modelName){const c=e.list.find(r=>r.name==e.modelName);c&&a.push({productVariantId:c.id})}}),n.query.id&&u.dispatch("Carts/addToCart",{settingId:localStorage.getItem("settingId"),productId:n.query.id,productVariant:a,quantity:m.qty})};return(a,e)=>{var r;const c=x("Select");return s.value.detail?(l(),d("section",M,[t("div",P,[t("div",D,[t("div",E,[t("div",L,[t("div",R,[t("img",{src:(r=s.value.detail.productImage[0])==null?void 0:r.file,alt:"",id:"image"},null,8,U)])]),t("div",w,[(l(!0),d(v,null,h(s.value.detail.productImage,(o,p)=>(l(),d("div",{class:"img-item",onClick:f(_=>y(o.file),["prevent"]),key:p},[t("img",{src:o.file,alt:""},null,8,H)],8,F))),128))])]),t("div",Q,[t("h2",j,i(s.value.detail.title),1),t("a",A,i(s.value.detail.code),1),t("div",O,[t("p",$,[e[1]||(e[1]=g(" Old Price: ")),t("span",null,"Rs "+i(s.value.detail.price),1)]),t("p",z,[e[2]||(e[2]=g(" New Price: ")),t("span",null,"Rs "+i(s.value.detail.finalPrice)+" ("+i(s.value.detail.discount)+"%)",1)])]),t("div",G,[e[3]||(e[3]=t("h2",null,"about this item:",-1)),t("p",{innerHTML:s.value.detail.desc},null,8,J),(l(!0),d(v,null,h(s.value.detail.productVariant,(o,p)=>(l(),d("div",{key:p},[t("div",K,[t("div",W,i(o.name),1),B(c,{modelValue:o.modelName,"onUpdate:modelValue":_=>o.modelName=_,options:o.list,placeholder:"Select "},null,8,["modelValue","onUpdate:modelValue","options"])])]))),128))]),t("div",X,[t("div",Y,[e[4]||(e[4]=t("div",{class:"title mb-10-i"},"Quantity",-1)),S(t("input",{type:"number",min:"1",max:"10000",placeholder:"Quantity","onUpdate:modelValue":e[0]||(e[0]=o=>m.qty=o)},null,512),[[T,m.qty]])]),t("button",{type:"button",class:"btn",onClick:f(V,["prevent"])}," Add to Cart ")])])])])])):N("",!0)}}};export{et as default};
