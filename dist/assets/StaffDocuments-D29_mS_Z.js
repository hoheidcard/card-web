import{d as v,u as H,e as x,c as a,a as t,b as n,r,j as u,g as _,F as O,y as F,h as m,p as z,s as Y,o as i,t as c,w as f,q as B,v as L,E as k,m as G}from"./index-QZaKag1-.js";import{_ as q}from"./no-image-Cge9pZ0v.js";import{_ as K}from"./img-D4b0CCTT.js";import{_ as J}from"./delete-ClllWuc2.js";const Q={class:"user-activity user-profile"},W={class:"table-card"},X={class:"table-header"},Z={class:"left"},tt={class:"title-row"},et={class:"icon"},st={class:"right"},ot={class:"searchbar"},lt={class:"icon"},nt={class:"icons"},at={class:"table-body mt-16"},it={class:"table-outer"},dt={class:"table"},rt={class:"s-name flex align-center gap-10"},ut=["src"],ct={key:1,src:q,class:"h-w-3r",alt:""},mt={class:"option-btns"},pt=["onClick"],vt={key:0,class:"table-no-data"},ft={class:"form mb-16"},gt={class:"upload-section"},_t={class:"form-item mb-16"},bt={class:"select-dropdown"},Dt={key:0,class:"err-msg"},ht={class:"form-item mb-16"},yt={key:0,class:"err-msg"},wt={class:"pic-upload"},Ct=["src"],kt={key:1,src:K,class:"dummy-img pic",alt:""},St={for:"imgUpload-doc",class:"upload-file-block"},Mt={key:0,class:"err-msg"},At={class:"modal-footer justify-center"},It={class:"btns"},Pt={class:"status-row"},Vt={for:"approve",class:"data"},Ut={class:"data-inner approve-card"},Et={for:"pending",class:"data"},Nt={class:"data-inner pending-card"},Rt={for:"block",class:"data"},Tt={class:"data-inner block-card"},jt={class:"modal-footer"},$t={class:"btns"},Ht={class:"modal-footer"},xt={class:"btns"},Gt={__name:"StaffDocuments",setup(Ot){const p=H();z(),Y();const l=v(()=>p.state.OrganizationStaff);v(()=>p.state.OrganizationSettings);const s=x({submit:!1,staffAccountId:null,name:null,subjectId:null,searchKey:null,editMode:!1,imagePreview:null,imagelink:null,documentId:null,file:null,type:null,changeStatus:null});function A(){if(h.value||b.value||D.value){s.submit=!0;return}s.submit=!1,p.dispatch("OrganizationStaff/addStaffDoc",{staffAccountId:l.value.accountId,staffDetailId:l.value.id,type:s.type,documentId:s.documentId,file:s.file,imageUrl:s.imagePreview})}function I(){p.dispatch("OrganizationStaff/deleteStaffDoc",{id:s.subjectId,staffAccountId:l.value.accountId})}function P(){l.value.addDocModal=!0,s.editMode=!1,s.name=null,s.subjectId=null}function V(d){s.subjectId=d,l.value.confirmDocModal=!0}async function U(d){if(d){const e=await d.target;if(e.files[0].type==="image/png"||e.files[0].type==="image/jpg"||e.files[0].type==="image/jpeg"){if(e.files){const g=new FileReader;g.onload=y=>{s.imagePreview=y.target.result},e.files[0]&&(g.readAsDataURL(e.files[0]),s.file=e.files[0])}}else s.imagePreview=null,p.dispatch("Alert/error",{msg:"Upload image in png, jpeg, jpg format."})}}function E(d){return d?G(d).format("MMM Do YYYY hh:mm A"):"-"}const b=v(()=>{if(!s.type)return"Please Select Document Type"}),D=v(()=>{if(!s.documentId)return"Please Enter Document Number"}),h=v(()=>{if(!s.file)return"Please Select a File"});return(d,e)=>{var S;const g=r("icon-user"),y=r("icon-search"),N=r("icon-plus"),R=r("icon-delete"),w=r("icon-cross"),C=r("Modal"),T=r("icon-success"),j=r("icon-warning"),$=r("icon-block");return i(),a("section",Q,[t("div",W,[t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[n(g)]),e[16]||(e[16]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Documents : List"),t("h5",{class:"main-title"},"Documents")],-1))])]),t("div",st,[t("div",ot,[e[17]||(e[17]=t("input",{type:"text",placeholder:"Search here"},null,-1)),t("div",lt,[n(y)])]),t("div",nt,[t("div",{class:"icon tooltip-wrapper",onClick:u(P,["prevent"])},[n(N),e[18]||(e[18]=t("div",{class:"tooltip"},"Add Documents",-1))])])])]),t("div",at,[t("div",it,[t("table",dt,[e[20]||(e[20]=t("thead",null,[t("th",null,"#"),t("th",null,"Documents"),t("th",null,"Type"),t("th",null,"Date & Time"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(i(!0),a(O,null,F(l.value.staffDocument,(o,M)=>(i(),a("tr",{key:M},[t("td",null,c(M+1),1),t("td",null,[t("div",rt,[o.url?(i(),a("img",{key:0,src:o.url,class:"h-w-3r",alt:""},null,8,ut)):(i(),a("img",ct))])]),t("td",null,c(o.type),1),t("td",null,c(E(o.createdAt)),1),t("td",null,[t("div",mt,[t("div",{class:"icon tooltip-wrapper",onClick:u(Ft=>V(o.id),["prevent"])},[n(R),e[19]||(e[19]=t("div",{class:"tooltip"},"Delete",-1))],8,pt)])])]))),128))])])]),((S=l.value.staffDocument)==null?void 0:S.length)<=0?(i(),a("div",vt,e[21]||(e[21]=[t("div",null,"No records Found!",-1)]))):_("",!0)])]),n(C,{show:l.value.addDocModal,"onUpdate:show":e[5]||(e[5]=o=>l.value.addDocModal=o),centerModal:!0,headerClasses:"header-bg"},{header:m(()=>[e[22]||(e[22]=t("div",{class:"title",showHeader:"true"},"Update Image",-1)),t("div",{class:"close-btn",onClick:e[0]||(e[0]=u(o=>l.value.addDocModal=!1,["prevent"]))},[n(w)])]),default:m(()=>[t("form",ft,[t("div",gt,[t("div",_t,[e[24]||(e[24]=t("div",{class:"title"},"Documents Type",-1)),t("div",bt,[f(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=o=>s.type=o)},e[23]||(e[23]=[t("option",{value:null},"Select",-1),t("option",{value:"AADHAR CARD"},"AADHAR CARD",-1),t("option",{value:"PAN CARD"},"PAN CARD",-1),t("option",{value:"OTHER"},"OTHER",-1)]),512),[[B,s.type]])]),s.submit&&b.value?(i(),a("div",Dt,c(b.value),1)):_("",!0)]),t("div",ht,[e[25]||(e[25]=t("div",{class:"title"},"Documents Number",-1)),f(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>s.documentId=o),placeholder:"Enter Document Number"},null,512),[[L,s.documentId]]),s.submit&&D.value?(i(),a("div",yt,c(D.value),1)):_("",!0)]),t("div",wt,[s.imagePreview?(i(),a("img",{key:0,src:s.imagePreview,class:"preview-image pic",id:"profilePic",alt:""},null,8,Ct)):(i(),a("img",kt)),t("label",St,c(s.imagePreview?"Change Doc":"Upload Doc"),1),t("input",{class:"uploadProfileInput",type:"file",name:"profile_doc",id:"imgUpload-doc",onChange:e[3]||(e[3]=o=>U(o)),style:{display:"none"}},null,32)]),s.submit&&h.value?(i(),a("div",Mt,c(h.value),1)):_("",!0)])]),t("div",At,[t("div",It,[t("div",{class:"btn red-btn",onClick:e[4]||(e[4]=u(o=>l.value.addDocModal=!1,["prevent"]))},"Cancel"),t("div",{class:"btn white-btn",onClick:A},"Submit")])])]),_:1},8,["show"]),n(C,{show:l.value.docStatusModal,"onUpdate:show":e[12]||(e[12]=o=>l.value.docStatusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:m(()=>[e[26]||(e[26]=t("div",{class:"title",showHeader:"true"},"Change Status",-1)),t("div",{class:"close-btn",onClick:e[6]||(e[6]=u(o=>l.value.docStatusModal=!1,["prevent"]))},[n(w)])]),default:m(()=>[t("div",Pt,[t("label",Vt,[f(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=o=>s.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[k,s.changeStatus]]),t("div",Ut,[n(T),e[27]||(e[27]=t("div",{class:"title"},"ACTIVE",-1))])]),t("label",Et,[f(t("input",{type:"radio","onUpdate:modelValue":e[8]||(e[8]=o=>s.changeStatus=o),value:"PENDING",id:"pending",name:"status"},null,512),[[k,s.changeStatus]]),t("div",Nt,[n(j),e[28]||(e[28]=t("div",{class:"title"},"PENDING",-1))])]),t("label",Rt,[f(t("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=o=>s.changeStatus=o),value:"DEACTIVE",id:"block",name:"status"},null,512),[[k,s.changeStatus]]),t("div",Tt,[n($),e[29]||(e[29]=t("div",{class:"title"},"DEACTIVE",-1))])])]),t("div",jt,[t("div",$t,[t("div",{class:"btn red-btn",onClick:e[10]||(e[10]=u(o=>l.value.docStatusModal=!1,["prevent"]))},"Cancel"),t("div",{class:"btn white-btn",onClick:e[11]||(e[11]=(...o)=>d.submitStatus&&d.submitStatus(...o))},"Submit")])])]),_:1},8,["show"]),n(C,{show:l.value.confirmDocModal,"onUpdate:show":e[15]||(e[15]=o=>l.value.confirmDocModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:m(()=>[e[30]||(e[30]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:e[13]||(e[13]=u(o=>l.value.confirmDocModal=!1,["prevent"]))},[n(w)])]),default:m(()=>[e[31]||(e[31]=t("div",{class:"delete-icon"},[t("img",{src:J,alt:""})],-1)),e[32]||(e[32]=t("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1)),t("div",Ht,[t("div",xt,[t("div",{class:"btn red-btn",onClick:e[14]||(e[14]=u(o=>l.value.confirmDocModal=!1,["prevent"]))},"Cancel"),t("div",{class:"btn white-btn",onClick:I},"Delete")])])]),_:1},8,["show"])])}}};export{Gt as default};
