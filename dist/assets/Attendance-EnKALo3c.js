import{d as w,u as x,e as V,m as c,n as A,p as C,c as n,a as t,b as r,r as u,w as g,v as D,g as b,F as S,y as N,o as i,t as _}from"./index-QZaKag1-.js";const B={class:"faq-page"},I={class:"container"},q={class:"table-card card"},F={class:"table-header"},U={class:"left"},z={class:"title-row"},E={class:"icon"},L={class:"right"},O={class:"searchbar"},T={class:"date-input"},R=["max"],j={class:"icon"},G={class:"searchbar"},H={class:"date-input"},J=["max"],K={class:"icon"},Q={class:"table-body p-16"},W={class:"table-outer"},X={class:"table"},Z={key:0,class:"table-no-data"},$={key:1,class:"table-footer"},at={__name:"Attendance",setup(tt){const m=x(),f=C(),d=w(()=>m.state.OrganizationStudent),e=V({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",currentPage:1,fromDate:c().subtract(30,"days").format("YYYY-MM-DD"),toDate:c().format("YYYY-MM-DD")});A(()=>{f.query.id&&l()});function l(){m.dispatch("OrganizationStudent/getStudentAttendance",{studentId:f.query.id,limit:e.limit,offset:e.offset,keyword:e.keyword,fromDate:e.fromDate,toDate:e.toDate})}const y=o=>{e.currentPage=o,e.offset=e.limit*(o-1),l()};function P(o){return o?c(o).format("MMM Do YYYY"):"-"}return(o,a)=>{var v,p;const Y=u("icon-help"),h=u("icon-calendar"),k=u("Pagination");return i(),n("section",B,[t("div",I,[t("div",q,[t("div",F,[t("div",U,[t("div",z,[t("div",E,[r(Y)]),a[3]||(a[3]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Attendance : List"),t("h5",{class:"main-title"},"Attendance")],-1))])]),t("div",L,[t("div",O,[t("div",T,[g(t("input",{type:"date",class:"w-12-r-i","onUpdate:modelValue":a[0]||(a[0]=s=>e.fromDate=s),max:e.toDate,onChange:l},null,40,R),[[D,e.fromDate]]),t("div",j,[r(h)])])]),t("div",G,[t("div",H,[g(t("input",{type:"date",class:"w-12-r-i","onUpdate:modelValue":a[1]||(a[1]=s=>e.toDate=s),max:e.maxDate,onChange:l},null,40,J),[[D,e.toDate]]),t("div",K,[r(h)])])])])]),t("div",Q,[t("div",W,[t("table",X,[a[4]||(a[4]=t("thead",null,[t("th",null,"Date"),t("th",null,"Attendance"),t("th",null,"Name")],-1)),t("tbody",null,[(i(!0),n(S,null,N(d.value.attendanceData,(s,M)=>(i(),n("tr",{key:M},[t("td",null,_(P(s.date)),1),t("td",null,_(s.status),1),t("td",null,_(s.student.name),1)]))),128))])])]),((v=d.value.attendanceData)==null?void 0:v.length)<=0?(i(),n("div",Z,a[5]||(a[5]=[t("div",null,"No records Found!",-1)]))):b("",!0),((p=d.value.attendanceData)==null?void 0:p.length)>0?(i(),n("div",$,[r(k,{currentPage:e.currentPage,totalItem:d.value.totalAttendance,itemsPerPage:e.limit,"onUpdate:currentPage":a[2]||(a[2]=s=>y(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):b("",!0)])])])])}}};export{at as default};
