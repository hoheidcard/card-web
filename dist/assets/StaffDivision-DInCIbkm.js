import{d as p,u as U,e as Y,c as r,a as e,b as l,r as a,j as d,g as M,F as B,y as F,h as m,p as H,s as K,o as c,t as v,m as L}from"./index-QZaKag1-.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J={class:"right"},Q={class:"searchbar"},W={class:"icon"},X={class:"icons"},Z={class:"table-body mt-16"},ee={class:"table-outer"},se={class:"table"},te={class:"option-btns"},oe=["onClick"],ie={key:0,class:"table-no-data"},ne={class:"title",showHeader:"true"},le={class:"form mb-16"},ae={class:"form-item mb-16"},de={key:0,class:"err-msg"},re={class:"modal-footer"},ce={class:"btns"},ve={class:"modal-footer"},ue={class:"btns"},he={__name:"StaffDivision",setup(me){const u=U();H(),K();const o=p(()=>u.state.OrganizationStaff),g=p(()=>u.state.OrganizationSettings),t=Y({submit:!1,staffAccountId:null,name:null,divisionId:null,searchKey:null,editMode:!1});function w(){if(f.value){t.submit=!0;return}t.submit=!1,u.dispatch("OrganizationStaff/addStaffDivision",{classDivId:t.divisionId,staffDetailId:o.value.id,name:t.name})}function C(){u.dispatch("OrganizationStaff/deleteStaffDivision",{id:t.divisionId})}function k(){o.value.addDivisionModal=!0,t.editMode=!1,t.name=null,t.divisionId=null}function y(n){t.divisionId=n,o.value.confirmDivisionModal=!0}const I=n=>{t.divisionId=n.id},V=n=>{t.searchKey=n};function A(n){return n?L(n).format("MMM Do YYYY hh:mm A"):"-"}const f=p(()=>{if(!t.divisionId)return"Please Select Department"});return(n,s)=>{var b;const x=a("icon-user"),N=a("icon-search"),$=a("icon-plus"),z=a("icon-delete"),_=a("icon-cross"),O=a("SingleSelect"),h=a("Modal");return c(),r("section",T,[e("div",j,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[l(x)]),s[7]||(s[7]=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Section : List"),e("h5",{class:"main-title"},"Section")],-1))])]),e("div",J,[e("div",Q,[s[8]||(s[8]=e("input",{type:"text",placeholder:"Search here"},null,-1)),e("div",W,[l(N)])]),e("div",X,[e("div",{class:"icon tooltip-wrapper",onClick:d(k,["prevent"])},[l($),s[9]||(s[9]=e("div",{class:"tooltip"},"Add Section",-1))])])])]),e("div",Z,[e("div",ee,[e("table",se,[s[11]||(s[11]=e("thead",null,[e("th",null,"#"),e("th",null,"Section"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1)),e("tbody",null,[(c(!0),r(B,null,F(o.value.staffDivision,(i,D)=>{var S;return c(),r("tr",{key:D},[e("td",null,v(D+1),1),e("td",null,v((S=i.classDiv)==null?void 0:S.name),1),e("td",null,v(A(i.createdAt)),1),e("td",null,[e("div",te,[e("div",{class:"icon tooltip-wrapper",onClick:d(fe=>y(i.id),["prevent"])},[l(z),s[10]||(s[10]=e("div",{class:"tooltip"},"Delete",-1))],8,oe)])])])}),128))])])]),((b=o.value.staffDivision)==null?void 0:b.length)<=0?(c(),r("div",ie,s[12]||(s[12]=[e("div",null,"No records Found!",-1)]))):M("",!0)])]),l(h,{show:o.value.addDivisionModal,"onUpdate:show":s[3]||(s[3]=i=>o.value.addDivisionModal=i),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:m(()=>[e("div",ne,v(t.editMode?"Update Section":"Add Section"),1),e("div",{class:"close-btn",onClick:s[0]||(s[0]=d(i=>o.value.addDivisionModal=!1,["prevent"]))},[l(_)])]),default:m(()=>[e("form",le,[e("div",ae,[s[13]||(s[13]=e("div",{class:"title"},"Department Name",-1)),l(O,{options:g.value.classDiv,onSelected:I,modelValue:t.name,"onUpdate:modelValue":s[1]||(s[1]=i=>t.name=i),next:!1,placeholder:"Select",onSearch:V},null,8,["options","modelValue"]),t.submit&&f.value?(c(),r("div",de,v(f.value),1)):M("",!0)])]),e("div",re,[e("div",ce,[e("div",{class:"btn red-btn",onClick:s[2]||(s[2]=d(i=>o.value.addDivisionModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),l(h,{show:o.value.confirmDivisionModal,"onUpdate:show":s[6]||(s[6]=i=>o.value.confirmDivisionModal=i),class:"confirm-modal",headerClasses:"header-bg"},{header:m(()=>[s[14]||(s[14]=e("div",{class:"title",showHeader:"true"},"Delete",-1)),e("div",{class:"close-btn",onClick:s[4]||(s[4]=d(i=>o.value.confirmDivisionModal=!1,["prevent"]))},[l(_)])]),default:m(()=>[s[15]||(s[15]=e("div",{class:"delete-icon"},[e("img",{src:R,alt:""})],-1)),s[16]||(s[16]=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1)),e("div",ve,[e("div",ue,[e("div",{class:"btn red-btn",onClick:s[5]||(s[5]=d(i=>o.value.confirmDivisionModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{he as default};
