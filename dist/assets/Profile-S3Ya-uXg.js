import{d as s,u as x,e as A,c as i,a as t,w as h,g as u,v as b,t as c,b as P,r as E,x as I,m as N,p as S,s as M,o}from"./index-QZaKag1-.js";import{_ as D}from"./camera-B4WFWT0E.js";const R={class:"profile-page"},U={action:"",class:"form"},B={class:"card-body"},C={class:"row"},L={class:"col-25"},Y={class:"img-upload flex flex-d-col align-centerr mb-16"},z=["src"],F=["src"],O={key:2,src:D,class:"dummy-img",alt:""},T={class:"form-group"},G={class:"row"},H={class:"form-item mb-16"},$={key:0,class:"err-msg"},j={class:"form-item mb-16"},q={key:0,class:"err-msg"},J={class:"row"},K={class:"form-item mb-16 col-5"},Q={key:0,class:"err-msg"},W={class:"form-item mb-16 col-5"},X={class:"date-input"},Z=["max"],ee={class:"icon"},te={key:0,class:"err-msg"},ie={__name:"Profile",setup(ae){const m=x();S(),M();const e=s(()=>m.state.Auth),l=A({submit:!1,imagePreview1:"",file:null}),y=[{id:"MALE",name:"MALE"},{id:"FEMALE",name:"FEMALE"},{id:"OTHER",name:"OTHER"}];function V(){if(v.value||p.value||f.value||_.value){l.submit=!0;return}l.submit=!1,m.dispatch("Auth/updateProfile",{name:e.value.name,emailId:e.value.emailId,gender:e.value.gender,dob:e.value.dob})}function w(r){var a,d=r.target.files;a=new FileReader,a.onload=g=>{l.imagePreview1=g.target.result},a.readAsDataURL(d[0]),d[0]&&(l.file=d[0],m.dispatch("Auth/updateProfileImage",{id:e.value.accountId,file:d[0]}))}function k(){document.getElementById("file-field1").click()}const v=s(()=>{if(!e.value.name)return"Please Enter Name"}),p=s(()=>{let r=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(e.value.emailId){if(!r.test(e.value.emailId))return"Please Enter Valid Email!"}else return"Please Enter Email!"});s(()=>{let r=/^[6-9][0-9]{9}$/;if(e.value.contactNo){if(!r.test(e.value.contactNo))return"Please Enter Valid Phone Number!"}else return"Please Enter Phone Number!"});const f=s(()=>{if(!e.value.gender)return"Please Select Gender"}),_=s(()=>{if(!e.value.dob)return"Please Select Date of Birth"});return s(()=>{if(!e.value.state)return"Please Enter State"}),s(()=>{if(!e.value.city)return"Please Enter city"}),s(()=>{if(!e.value.addreaa)return"Please Enter addreaa"}),s(()=>{if(e.value.pincide){if(e.value.pincide.length<6)return"Please Enter Valid Pincide"}else return"Please Enter Pincide"}),(r,a)=>{const d=E("Select"),g=E("icon-calendar");return o(),i("div",R,[t("form",U,[t("div",B,[t("div",C,[t("div",L,[t("div",Y,[t("div",{class:"img-upload-wrapper h-w-7-r",onClick:k},[l.imagePreview1?(o(),i("img",{key:0,src:l.imagePreview1,class:"preview-image",alt:""},null,8,z)):e.value.profile?(o(),i("img",{key:1,src:e.value.profile,class:"preview-image",alt:""},null,8,F)):(o(),i("img",O)),t("div",T,[t("input",{name:"image",type:"file",id:"file-field1",onChange:w,style:{display:"none"}},null,32)])])])])]),t("div",G,[t("div",H,[h(t("input",{type:"text",placeholder:"Name of Admin","onUpdate:modelValue":a[0]||(a[0]=n=>e.value.name=n)},null,512),[[b,e.value.name]]),l.submit&&v.value?(o(),i("div",$,c(v.value),1)):u("",!0)]),t("div",j,[h(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>e.value.emailId=n),placeholder:"Enter Email"},null,512),[[b,e.value.emailId]]),l.submit&&p.value?(o(),i("div",q,c(p.value),1)):u("",!0)])]),t("div",J,[t("div",K,[P(d,{modelValue:e.value.gender,"onUpdate:modelValue":a[2]||(a[2]=n=>e.value.gender=n),options:y,placeholder:"Select Gender"},null,8,["modelValue"]),l.submit&&f.value?(o(),i("div",Q,c(f.value),1)):u("",!0)]),t("div",W,[t("div",X,[h(t("input",{type:"date","onUpdate:modelValue":a[3]||(a[3]=n=>e.value.dob=n),max:I(N)().format("YYYY-MM-DD")},null,8,Z),[[b,e.value.dob]]),t("div",ee,[P(g)])]),l.submit&&_.value?(o(),i("div",te,c(_.value),1)):u("",!0)])])]),t("div",{class:"card-footer pb-0-i"},[t("div",{class:"w-30 flex gap-10"},[t("button",{type:"button",class:"btn white-btn w-full",onClick:V}," Save ")])])])])}}};export{ie as default};
