import{d as p,u as O,e as U,c as r,a as s,b as n,r as i,j as d,g as S,F as Y,y as B,h as f,p as F,s as H,o as c,t as u,m as K}from"./index-QZaKag1-.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J={class:"right"},Q={class:"searchbar"},W={class:"icon"},X={class:"icons"},Z={class:"table-body mt-16"},ss={class:"table-outer"},ts={class:"table"},es={class:"option-btns"},ls=["onClick"],os={key:0,class:"table-no-data"},as={class:"title",showHeader:"true"},ns={class:"form mb-16"},is={class:"form-item mb-16"},ds={key:0,class:"err-msg"},rs={class:"modal-footer"},cs={class:"btns"},us={class:"modal-footer"},vs={class:"btns"},hs={__name:"StaffClass",setup(fs){const v=O();F(),H();const l=p(()=>v.state.OrganizationStaff),g=p(()=>v.state.OrganizationSettings),e=U({submit:!1,staffAccountId:null,className:null,classListId:null,searchKey:null,editMode:!1});function w(){if(m.value){e.submit=!0;return}e.submit=!1,v.dispatch("OrganizationStaff/addStaffClass",{classListId:e.classListId,staffDetailId:l.value.id,className:e.className})}function k(){v.dispatch("OrganizationStaff/deleteStaffClass",{id:e.classListId})}function y(){l.value.addClassModal=!0,e.editMode=!1,e.className=null,e.classListId=null}function L(a){e.classListId=a,l.value.confirmModal=!0}const D=a=>{e.classListId=a.id},N=a=>{e.searchKey=a};function I(a){return a?K(a).format("MMM Do YYYY hh:mm A"):"-"}const m=p(()=>{if(!e.classListId)return"Please Select Class"});return(a,t)=>{var b;const V=i("icon-user"),A=i("icon-search"),x=i("icon-plus"),$=i("icon-delete"),_=i("icon-cross"),z=i("SingleSelect"),h=i("Modal");return c(),r("section",T,[s("div",j,[s("div",q,[s("div",E,[s("div",P,[s("div",G,[n(V)]),t[7]||(t[7]=s("div",{class:"titles"},[s("div",{class:"sub-title"},"Class : List"),s("h5",{class:"main-title"},"Class")],-1))])]),s("div",J,[s("div",Q,[t[8]||(t[8]=s("input",{type:"text",placeholder:"Search here"},null,-1)),s("div",W,[n(A)])]),s("div",X,[s("div",{class:"icon tooltip-wrapper",onClick:d(y,["prevent"])},[n(x),t[9]||(t[9]=s("div",{class:"tooltip"},"Add Class",-1))])])])]),s("div",Z,[s("div",ss,[s("table",ts,[t[11]||(t[11]=s("thead",null,[s("th",null,"#"),s("th",null,"Class"),s("th",null,"Date & Time"),s("th",{class:"text-center"},"Action")],-1)),s("tbody",null,[(c(!0),r(Y,null,B(l.value.staffClass,(o,C)=>{var M;return c(),r("tr",{key:C},[s("td",null,u(C+1),1),s("td",null,u((M=o.classList)==null?void 0:M.name),1),s("td",null,u(I(o.createdAt)),1),s("td",null,[s("div",es,[s("div",{class:"icon tooltip-wrapper",onClick:d(ms=>L(o.id),["prevent"])},[n($),t[10]||(t[10]=s("div",{class:"tooltip"},"Delete",-1))],8,ls)])])])}),128))])])]),((b=l.value.staffClass)==null?void 0:b.length)<=0?(c(),r("div",os,t[12]||(t[12]=[s("div",null,"No records Found!",-1)]))):S("",!0)])]),n(h,{show:l.value.addClassModal,"onUpdate:show":t[3]||(t[3]=o=>l.value.addClassModal=o),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:f(()=>[s("div",as,u(e.editMode?"Update Class":"Add Class"),1),s("div",{class:"close-btn",onClick:t[0]||(t[0]=d(o=>l.value.addClassModal=!1,["prevent"]))},[n(_)])]),default:f(()=>[s("form",ns,[s("div",is,[t[13]||(t[13]=s("div",{class:"title"},"Class Name",-1)),n(z,{options:g.value.classList,onSelected:D,modelValue:e.className,"onUpdate:modelValue":t[1]||(t[1]=o=>e.className=o),next:!1,placeholder:"Select",onSearch:N},null,8,["options","modelValue"]),e.submit&&m.value?(c(),r("div",ds,u(m.value),1)):S("",!0)])]),s("div",rs,[s("div",cs,[s("div",{class:"btn red-btn",onClick:t[2]||(t[2]=d(o=>l.value.addClassModal=!1,["prevent"]))},"Cancel"),s("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),n(h,{show:l.value.confirmModal,"onUpdate:show":t[6]||(t[6]=o=>l.value.confirmModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:f(()=>[t[14]||(t[14]=s("div",{class:"title",showHeader:"true"},"Delete",-1)),s("div",{class:"close-btn",onClick:t[4]||(t[4]=d(o=>l.value.confirmModal=!1,["prevent"]))},[n(_)])]),default:f(()=>[t[15]||(t[15]=s("div",{class:"delete-icon"},[s("img",{src:R,alt:""})],-1)),t[16]||(t[16]=s("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1)),s("div",us,[s("div",vs,[s("div",{class:"btn red-btn",onClick:t[5]||(t[5]=d(o=>l.value.confirmModal=!1,["prevent"]))},"Cancel"),s("div",{class:"btn white-btn",onClick:k},"Delete")])])]),_:1},8,["show"])])}}};export{hs as default};
