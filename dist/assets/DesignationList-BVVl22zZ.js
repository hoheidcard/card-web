import{d as f,u as F,e as L,n as q,c as d,a as t,b as l,r as a,w as _,v as y,j as r,g as b,F as H,y as T,h as v,o as u,t as c}from"./index-QZaKag1-.js";import{_ as j}from"./delete-ClllWuc2.js";const K={class:"faq-page"},O={class:"container"},z={class:"table-card card"},G={class:"table-header"},J={class:"left"},Q={class:"title-row"},R={class:"icon"},W={class:"right"},X={class:"searchbar"},Y={class:"icon"},Z={class:"icons"},tt={class:"table-body p-16"},et={class:"table-outer"},ot={class:"table"},st={class:"option-btns"},it=["onClick"],nt=["onClick"],lt={key:0,class:"table-no-data"},at={class:"title",showHeader:"true"},dt={class:"form mb-16"},rt={class:"form-item mb-16"},ut={key:0,class:"err-msg"},ct={class:"form-item mb-16"},pt={key:0,class:"err-msg"},vt={class:"modal-footer"},mt={class:"btns"},gt={class:"modal-footer"},ft={class:"btns"},ht={__name:"DesignationList",setup(_t){const p=F(),n=f(()=>p.state.Designation),o=L({submit:!1,limit:10,offset:0,keyword:"",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,designationId:null,name:null,priority:null});q(()=>{M()});function M(){p.dispatch("Designation/getMyDesignation")}function w(){n.value.designationModal=!0,o.editMode=!1,o.name=null,o.priority=null}function x(i){n.value.designationModal=!0,o.editMode=!0,o.designationId=i.id,o.name=i.name,o.priority=i.priority}function V(i){o.designationId=i,n.value.confirmModal=!0}function N(){if(m.value||g.value){o.submit=!0;return}o.submit=!1,o.editMode?p.dispatch("Designation/updateDesignation",{id:o.designationId,name:o.name,priority:o.priority}):p.dispatch("Designation/addDesignation",{name:o.name,priority:o.priority})}function E(){p.dispatch("Designation/deleteDesignation",{id:o.designationId})}const m=f(()=>{if(!o.name)return"Please Enter Designation Name"}),g=f(()=>{if(!o.priority)return"Please Enter Priority"});function P(i){let e=String.fromCharCode(i.keyCode);if(/^[0-9]+$/.test(e)||i.keyCode===8||i.keyCode===9||i.keyCode===37||i.keyCode===39||i.keyCode>=96&&i.keyCode<=105)return!0;i.preventDefault()}return(i,e)=>{var k;const $=a("icon-help"),U=a("icon-search"),A=a("icon-plus"),I=a("icon-edit"),S=a("icon-delete"),h=a("icon-cross"),D=a("Modal");return u(),d("section",K,[t("div",O,[t("div",z,[t("div",G,[t("div",J,[t("div",Q,[t("div",R,[l($)]),e[10]||(e[10]=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Designation : List"),t("h5",{class:"main-title"},"Our Designation")],-1))])]),t("div",W,[t("div",X,[_(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[y,o.keyword]]),t("div",Y,[l(U)])]),t("div",Z,[t("div",{class:"icon tooltip-wrapper",onClick:r(w,["prevent"])},[l(A),e[11]||(e[11]=t("div",{class:"tooltip"},"Add Designation",-1))])])])]),t("div",tt,[t("div",et,[t("table",ot,[e[14]||(e[14]=t("thead",null,[t("th",null,"#"),t("th",null,"Designation Name"),t("th",null,"Priority"),t("th",{class:"text-center"},"Action")],-1)),t("tbody",null,[(u(!0),d(H,null,T(n.value.designationData,(s,C)=>(u(),d("tr",{key:C},[t("td",null,c(C+1),1),t("td",null,c(s.name),1),t("td",null,c(s.priority),1),t("td",null,[t("div",st,[t("div",{class:"icon tooltip-wrapper",onClick:B=>x(s)},[l(I),e[12]||(e[12]=t("div",{class:"tooltip"},"Edit",-1))],8,it),t("div",{class:"icon tooltip-wrapper",onClick:r(B=>V(s.id),["prevent"])},[l(S),e[13]||(e[13]=t("div",{class:"tooltip"},"Delete",-1))],8,nt)])])]))),128))])])]),((k=n.value.designationData)==null?void 0:k.length)<=0?(u(),d("div",lt,e[15]||(e[15]=[t("div",null,"No records Found!",-1)]))):b("",!0)])])]),l(D,{show:n.value.designationModal,"onUpdate:show":e[6]||(e[6]=s=>n.value.designationModal=s),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",at,c(o.editMode?"Update Designation":"Add Designation"),1),t("div",{class:"close-btn",onClick:e[1]||(e[1]=r(s=>n.value.designationModal=!1,["prevent"]))},[l(h)])]),default:v(()=>[t("form",dt,[t("div",rt,[e[16]||(e[16]=t("div",{class:"title"},"Designation Name",-1)),_(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>o.name=s),placeholder:"Enter Designation Name",maxlength:"30"},null,512),[[y,o.name]]),o.submit&&m.value?(u(),d("div",ut,c(m.value),1)):b("",!0)]),t("div",ct,[e[17]||(e[17]=t("div",{class:"title"},"Priority",-1)),_(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>o.priority=s),placeholder:"Enter Priority",onKeydown:e[4]||(e[4]=s=>P(s)),maxlength:"3"},null,544),[[y,o.priority]]),o.submit&&g.value?(u(),d("div",pt,c(g.value),1)):b("",!0)])]),t("div",vt,[t("div",mt,[t("div",{class:"btn red-btn",onClick:e[5]||(e[5]=r(s=>n.value.designationModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"]),l(D,{show:n.value.confirmModal,"onUpdate:show":e[9]||(e[9]=s=>n.value.confirmModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[e[18]||(e[18]=t("div",{class:"title",showHeader:"true"},"Delete",-1)),t("div",{class:"close-btn",onClick:e[7]||(e[7]=r(s=>n.value.confirmModal=!1,["prevent"]))},[l(h)])]),default:v(()=>[e[19]||(e[19]=t("div",{class:"delete-icon"},[t("img",{src:j,alt:""})],-1)),e[20]||(e[20]=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1)),t("div",gt,[t("div",ft,[t("div",{class:"btn red-btn",onClick:e[8]||(e[8]=r(s=>n.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:E},"Delete")])])]),_:1},8,["show"])])}}};export{ht as default};
