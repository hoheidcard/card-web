import{d as u,u as p,e as g,n as h,p as m,c as l,a as s,b,r as S,F as y,y as C,s as I,o as c,t as z,w as V,z as x}from"./index-QZaKag1-.js";const F={class:"user-activity user-profile"},k={class:"table-card"},w={class:"table-header"},D={class:"left"},N={class:"title-row"},B={class:"icon"},O={class:"download-body"},j={class:"data"},q={class:"title"},E={class:"val"},M=["onUpdate:modelValue"],P={__name:"DownloadCsvPermission",setup(J){const r=p(),o=m();I();const i=u(()=>r.state.OrganizationSettings),t=g({organizationSettingId:null,organizationId:null,editMode:!1,subjectId:null,name:null,fields:[]});h(()=>{o.query.id&&(t.organizationSettingId=o.query.settingId,t.organizationId=o.query.id)});function v(){i.value.csvData.forEach(a=>{const e=t.fields.findIndex(n=>n===a.name);a.status&&e<0&&t.fields.push(a.name)}),r.dispatch("OrganizationSettings/updateCsvField",{id:t.organizationSettingId,csvFields:JSON.stringify(t.fields),staffCsvFields:i.value.staffCsvFields}),i.value.studentCsvFields=JSON.stringify(t.fields),t.fields=[]}return u(()=>{if(!t.name)return"Please Enter Name"}),(a,e)=>{const n=S("icon-user");return c(),l("section",F,[s("div",k,[s("div",w,[s("div",D,[s("div",N,[s("div",B,[b(n)]),e[0]||(e[0]=s("div",{class:"titles"},[s("div",{class:"sub-title"},"CSV : List"),s("h5",{class:"main-title"},"CSV")],-1))])]),e[1]||(e[1]=s("div",{class:"right"},null,-1))]),s("div",O,[(c(!0),l(y,null,C(i.value.csvData,(d,_)=>(c(),l("div",{class:"body-item",key:_},[s("div",j,[s("div",q,z(d.title),1),s("div",E,[V(s("input",{class:"pointer","onUpdate:modelValue":f=>d.status=f,type:"checkbox",name:"",id:""},null,8,M),[[x,d.status]])])])]))),128))]),s("div",{class:"card-footer"},[s("div",{class:"btns flex"},[s("div",{class:"btn white-btn",onClick:v},"Submit")])])])])}}};export{P as default};
