import{d as f,u as U,e as Y,c as r,a as e,b as l,r as d,j as i,g as S,F as B,y as F,h as u,p as H,s as K,o as c,t as m,m as L}from"./index-QZaKag1-.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J={class:"right"},Q={class:"searchbar"},W={class:"icon"},X={class:"icons"},Z={class:"table-body mt-16"},ee={class:"table-outer"},te={class:"table"},se={class:"option-btns"},ne=["onClick"],oe={key:0,class:"table-no-data"},ae={class:"title",showHeader:"true"},le={class:"form mb-16"},de={class:"form-item mb-16"},ie={key:0,class:"err-msg"},re={class:"modal-footer"},ce={class:"btns"},me={class:"modal-footer"},pe={class:"btns"},he={__name:"StaffDepartment",setup(ue){const p=U();H(),K();const n=f(()=>p.state.OrganizationStaff),g=f(()=>p.state.OrganizationSettings),s=Y({submit:!1,staffAccountId:null,deparmentName:null,departmentId:null,searchKey:null,editMode:!1});function w(){if(v.value){s.submit=!0;return}s.submit=!1,p.dispatch("OrganizationStaff/addStaffDepartment",{departmentId:s.departmentId,staffDetailId:n.value.id,deparmentName:s.deparmentName})}function C(){p.dispatch("OrganizationStaff/deleteStaffDepartment",{id:s.departmentId})}function k(){n.value.addDepartmentModal=!0,s.editMode=!1,s.deparmentName=null,s.departmentId=null}function y(a){s.departmentId=a,n.value.confirmDepartmentModal=!0}const N=a=>{s.departmentId=a.id},I=a=>{s.searchKey=a};function V(a){return a?L(a).format("MMM Do YYYY hh:mm A"):"-"}const v=f(()=>{if(!s.departmentId)return"Please Select Department"});return(a,t)=>{var b;const A=d("icon-user"),x=d("icon-search"),$=d("icon-plus"),z=d("icon-delete"),_=d("icon-cross"),O=d("SingleSelect"),h=d("Modal");return c(),r("section",T,[e("div",j,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[l(A)]),t[7]||(t[7]=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Department : List"),e("h5",{class:"main-title"},"Department")],-1))])]),e("div",J,[e("div",Q,[t[8]||(t[8]=e("input",{type:"text",placeholder:"Search here"},null,-1)),e("div",W,[l(x)])]),e("div",X,[e("div",{class:"icon tooltip-wrapper",onClick:i(k,["prevent"])},[l($),t[9]||(t[9]=e("div",{class:"tooltip"},"Add Department",-1))])])])]),e("div",Z,[e("div",ee,[e("table",te,[t[11]||(t[11]=e("thead",null,[e("th",null,"#"),e("th",null,"Department"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1)),e("tbody",null,[(c(!0),r(B,null,F(n.value.staffDepartment,(o,D)=>{var M;return c(),r("tr",{key:D},[e("td",null,m(D+1),1),e("td",null,m((M=o.department)==null?void 0:M.name),1),e("td",null,m(V(o.createdAt)),1),e("td",null,[e("div",se,[e("div",{class:"icon tooltip-wrapper",onClick:i(ve=>y(o.id),["prevent"])},[l(z),t[10]||(t[10]=e("div",{class:"tooltip"},"Delete",-1))],8,ne)])])])}),128))])])]),((b=n.value.staffDepartment)==null?void 0:b.length)<=0?(c(),r("div",oe,t[12]||(t[12]=[e("div",null,"No records Found!",-1)]))):S("",!0)])]),l(h,{show:n.value.addDepartmentModal,"onUpdate:show":t[3]||(t[3]=o=>n.value.addDepartmentModal=o),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:u(()=>[e("div",ae,m(s.editMode?"Update Department":"Add Department"),1),e("div",{class:"close-btn",onClick:t[0]||(t[0]=i(o=>n.value.addDepartmentModal=!1,["prevent"]))},[l(_)])]),default:u(()=>[e("form",le,[e("div",de,[t[13]||(t[13]=e("div",{class:"title"},"Department Name",-1)),l(O,{options:g.value.department,onSelected:N,modelValue:s.deparmentName,"onUpdate:modelValue":t[1]||(t[1]=o=>s.deparmentName=o),next:!1,placeholder:"Select",onSearch:I},null,8,["options","modelValue"]),s.submit&&v.value?(c(),r("div",ie,m(v.value),1)):S("",!0)])]),e("div",re,[e("div",ce,[e("div",{class:"btn red-btn",onClick:t[2]||(t[2]=i(o=>n.value.addDepartmentModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),l(h,{show:n.value.confirmDepartmentModal,"onUpdate:show":t[6]||(t[6]=o=>n.value.confirmDepartmentModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:u(()=>[t[14]||(t[14]=e("div",{class:"title",showHeader:"true"},"Delete",-1)),e("div",{class:"close-btn",onClick:t[4]||(t[4]=i(o=>n.value.confirmDepartmentModal=!1,["prevent"]))},[l(_)])]),default:u(()=>[t[15]||(t[15]=e("div",{class:"delete-icon"},[e("img",{src:R,alt:""})],-1)),t[16]||(t[16]=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1)),e("div",me,[e("div",pe,[e("div",{class:"btn red-btn",onClick:t[5]||(t[5]=i(o=>n.value.confirmDepartmentModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{he as default};
