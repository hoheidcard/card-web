import{d as l,u as P,e as k,n as U,p as M,c as d,a as n,w as i,g as u,v as a,t as m,q as A,x as w,m as E,b as O,r as _,j as Y,s as q,o as r}from"./index-QZaKag1-.js";const j={class:"add-page"},B={class:"container"},F={class:"card"},K={class:"form mb-16"},L={class:"row"},$={class:"form-item mb-16 col-5"},R={key:0,class:"err-msg"},T={class:"form-item mb-16 col-5"},G={key:0,class:"err-msg"},H={class:"form-item mb-16 col-5"},Z={key:0,class:"err-msg"},J={class:"row"},Q={class:"form-item mb-16 col-5"},W={class:"select-dropdown"},X={key:0,class:"err-msg"},ee={class:"form-item mb-16 col-5"},te=["max"],ne={key:0,class:"err-msg"},oe={class:"form-item mb-16 col-5"},se={key:0,class:"err-msg"},ie={class:"row"},ae={class:"form-item mb-16 col-5"},le=["max"],de={class:"form-item mb-16 col-5"},re={class:"form-item mb-16 col-5"},ue={class:"row"},me={class:"form-item mb-16 col-5"},pe={class:"form-item mb-16 col-5"},ge={class:"form-item mb-16 col-5"},ve={class:"row"},fe={class:"form-item mb-16 col-5"},ce={class:"form-item mb-16 col-5"},ye={class:"form-item mb-16 col-5"},be={key:0,class:"err-msg"},Ne={class:"form-item mb-16"},Ve={class:"card-footer"},we={class:"w-30 flex gap-10"},xe={__name:"AddStaff",setup(Ee){const p=P(),g=M();q(),l(()=>p.state.OrganizationStaff),l(()=>p.state.Designation);const S=l(()=>p.state.OrganizationSettings),t=k({submit:!1,organizationAccountId:null,organizationSettingId:null,typingTimer:null,typingDelay:500,searchKey:null,designationId:null,designation:"",phoneNumber:null,name:null,emailId:null,gender:"MALE",password:null,dob:null,joiningDate:null,contactNo:null,nationality:null,address:null,city:null,state:null,pincode:null,guardianName:null,guardianContactNo:null,designationId:null,organizationDetailId:null});U(()=>{g.query.id&&(t.organizationDetailId=g.query.id,t.organizationSettingId=g.query.settingId,x(),D())});function x(){p.dispatch("Designation/getMyDesignationBySetting",{settingId:g.query.settingId})}function D(){p.dispatch("OrganizationSettings/getOneOrganizationSettings",{id:t.organizationSettingId})}function I(){if(f.value||y.value||v.value||b.value||N.value||f.value||V.value){t.submit=!0;return}t.submit=!1,p.dispatch("OrganizationStaff/addStaff",{phoneNumber:t.phoneNumber,name:t.name,emailId:t.emailId,gender:t.gender,password:t.password,dob:t.dob,joiningDate:t.joiningDate,contactNo:t.phoneNumber,nationality:t.nationality,address:t.address,city:t.city,stateName:t.state,pincode:t.pincode,guardianName:t.guardianName,guardianContactNo:t.guardianContactNo,designationId:t.designationId,organizationDetailId:t.organizationDetailId,designation:t.designation,accountId:g.query.accountId,settingId:g.query.settingId})}const h=s=>{t.designationId=s.id},C=s=>{t.searchKey=s},y=l(()=>{if(!t.name)return"Please Enter Name"});l(()=>{let s=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(t.emailId){if(!s.test(t.emailId))return"Please Enter Valid Email!"}else return"Please Enter Email!"});const v=l(()=>{let s=/^[6-9][0-9]{9}$/;if(t.phoneNumber){if(!s.test(t.phoneNumber))return"Please Enter Valid Phone Number!"}else return"Please Enter Phone Number!"}),f=l(()=>{if(!t.designationId)return"Please Select Designation"}),b=l(()=>{if(!t.gender)return"Please Select Gender"}),N=l(()=>{if(!t.dob)return"Please Select Date of Birth"}),V=l(()=>{let s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$@!%&*?])[A-Za-z\d#$@!%&*?]{8,16}$/;if(t.password){if(!s.test(t.password))return"password must have at least one uppercase and lowercase character,one number and special character!"}else return"Please Enter Password"});function c(s){let e=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(e)||s.keyCode===8||s.keyCode===9||s.keyCode===37||s.keyCode===39||s.keyCode>=96&&s.keyCode<=105)return!0;s.preventDefault()}return(s,e)=>{const z=_("SingleSelect");return r(),d("section",j,[n("div",B,[n("div",F,[e[36]||(e[36]=n("div",{class:"heading-edit"},[n("h3",{class:"heading"},"Add Staff")],-1)),n("form",K,[n("div",L,[n("div",$,[e[20]||(e[20]=n("div",{class:"title"},"Login Id",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.phoneNumber=o),placeholder:"Enter Phone Number",onKeydown:e[1]||(e[1]=o=>c(o)),maxlength:"10",disabled:""},null,544),[[a,t.phoneNumber]]),t.submit&&v.value?(r(),d("div",R,m(v.value),1)):u("",!0)]),n("div",T,[e[21]||(e[21]=n("div",{class:"title"},"Name",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.name=o),placeholder:"Enter Name",maxlength:"30"},null,512),[[a,t.name]]),t.submit&&y.value?(r(),d("div",G,m(y.value),1)):u("",!0)]),n("div",H,[e[22]||(e[22]=n("div",{class:"title"},"Phone",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.phoneNumber=o),placeholder:"Enter Phone Number",onKeydown:e[4]||(e[4]=o=>c(o)),maxlength:"10"},null,544),[[a,t.phoneNumber]]),t.submit&&v.value?(r(),d("div",Z,m(v.value),1)):u("",!0)])]),n("div",J,[n("div",Q,[e[24]||(e[24]=n("div",{class:"title"},"Gender",-1)),n("div",W,[i(n("select",{name:"Gender",id:"gender","onUpdate:modelValue":e[5]||(e[5]=o=>t.gender=o)},e[23]||(e[23]=[n("option",{value:"MALE"},"MALE",-1),n("option",{value:"FEMALE"},"FEMALE",-1),n("option",{value:"OTHER"},"OTHER",-1)]),512),[[A,t.gender]])]),t.submit&&b.value?(r(),d("div",X,m(b.value),1)):u("",!0)]),n("div",ee,[e[25]||(e[25]=n("div",{class:"title"},"Dob",-1)),i(n("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=o=>t.dob=o),max:w(E)().format("YYYY-MM-DD")},null,8,te),[[a,t.dob]]),t.submit&&N.value?(r(),d("div",ne,m(N.value),1)):u("",!0)]),n("div",oe,[e[26]||(e[26]=n("div",{class:"title"},"Designation",-1)),O(z,{options:S.value.designation,onSelected:h,modelValue:t.designation,"onUpdate:modelValue":e[7]||(e[7]=o=>t.designation=o),placeholder:"Select Designation",onSearch:C},null,8,["options","modelValue"]),t.submit&&f.value?(r(),d("div",se,m(f.value),1)):u("",!0)])]),n("div",ie,[n("div",ae,[e[27]||(e[27]=n("div",{class:"title"},"Joining Date",-1)),i(n("input",{type:"date","onUpdate:modelValue":e[8]||(e[8]=o=>t.joiningDate=o),max:w(E)().format("YYYY-MM-DD")},null,8,le),[[a,t.joiningDate]])]),n("div",de,[e[28]||(e[28]=n("div",{class:"title"},"Email",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>t.emailId=o),placeholder:"Enter E-mail ",maxlength:"30"},null,512),[[a,t.emailId]])]),n("div",re,[e[29]||(e[29]=n("div",{class:"title"},"Nationality",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=o=>t.nationality=o),placeholder:"Enter Nationality",maxlength:"20"},null,512),[[a,t.nationality]])])]),n("div",ue,[n("div",me,[e[30]||(e[30]=n("div",{class:"title"},"State",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>t.state=o),placeholder:"Enter State"},null,512),[[a,t.state]])]),n("div",pe,[e[31]||(e[31]=n("div",{class:"title"},"City",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=o=>t.city=o),placeholder:"Enter City",maxlength:"10"},null,512),[[a,t.city]])]),n("div",ge,[e[32]||(e[32]=n("div",{class:"title"},"Pincode",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=o=>t.pincode=o),placeholder:"Enter Pincode",onKeydown:e[14]||(e[14]=o=>c(o)),maxlength:"6"},null,544),[[a,t.pincode]])])]),n("div",ve,[n("div",fe,[e[33]||(e[33]=n("div",{class:"title"},"Father Name",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=o=>t.guardianName=o),placeholder:"Enter Father Name"},null,512),[[a,t.guardianName]])]),n("div",ce,[e[34]||(e[34]=n("div",{class:"title"},"Father Contact No",-1)),i(n("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=o=>t.guardianContactNo=o),placeholder:"Enter Father Contact No",onKeydown:e[17]||(e[17]=o=>c(o)),maxlength:"10"},null,544),[[a,t.guardianContactNo]])]),n("div",ye,[e[35]||(e[35]=n("div",{class:"title"},"Password",-1)),i(n("input",{type:"password",name:"password","onUpdate:modelValue":e[18]||(e[18]=o=>t.password=o),placeholder:"Enter Password ",maxlength:"30"},null,512),[[a,t.password]]),t.submit&&V.value?(r(),d("div",be,m(V.value),1)):u("",!0)])]),n("div",Ne,[i(n("textarea",{name:"Address",id:"address","onUpdate:modelValue":e[19]||(e[19]=o=>t.address=o),rows:"5",placeholder:"Address"},null,512),[[a,t.address]])])]),n("div",Ve,[n("div",we,[n("button",{class:"btn white-btn w-full",type:"button",onClick:Y(I,["prevent"])}," Add ")])])])])])}}};export{xe as default};
